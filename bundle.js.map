{
  "version": 3,
  "sources": [
    "../Users/cheahshen/AppData/Roaming/npm/node_modules/ksana-cli/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "correspondence/index.js",
    "correspondence/src/actions.js",
    "correspondence/src/actions/link.js",
    "correspondence/src/controls.js",
    "correspondence/src/main.jsx",
    "correspondence/src/mockdata.js",
    "correspondence/src/views/translations.js",
    "node_modules/ksana-layer-react/index.js",
    "node_modules/ksana-layer-react/src/caretpos.js",
    "node_modules/ksana-layer-react/src/defaultspan.js",
    "node_modules/ksana-layer-react/src/flattenview.js",
    "node_modules/ksana-layer-react/src/interline.js",
    "node_modules/ksana-layer-react/src/interlineview.js",
    "node_modules/ksana-layer-react/src/keyboard_mixin.js",
    "node_modules/ksana-layer-react/src/markup2tag.js",
    "node_modules/ksana-layer-react/src/markupselector.js",
    "node_modules/ksana-layer-react/src/markuputil.js",
    "node_modules/ksana-layer-react/src/revision/edit.js",
    "node_modules/ksana-layer-react/src/revision/editcontrol.js",
    "node_modules/ksana-layer-react/src/revision/editmode.js",
    "node_modules/ksana-layer-react/src/revision/index.js",
    "node_modules/ksana-layer-react/src/revision/note.js",
    "node_modules/ksana-layer-react/src/revision/redlinethrough.js",
    "node_modules/ksana-layer-react/src/selectableview.js",
    "node_modules/ksana-layer-react/src/selection.js",
    "node_modules/ksana-layer-react/src/textrange.js",
    "node_modules/ksana-layer-react/src/typedef.js",
    "node_modules/ksana2015-webruntime/downloader.js",
    "node_modules/ksana2015-webruntime/html5fs.js",
    "node_modules/ksana2015-webruntime/ksanagap.js",
    "node_modules/ksana2015-webruntime/livereload.js",
    "node_modules/ksana2015-webruntime/mkdirp.js",
    "node_modules/reflux/index.js",
    "node_modules/reflux/node_modules/eventemitter3/index.js",
    "node_modules/reflux/node_modules/native-promise-only/npo.js",
    "node_modules/reflux/src/ActionMethods.js",
    "node_modules/reflux/src/Keep.js",
    "node_modules/reflux/src/ListenerMethods.js",
    "node_modules/reflux/src/ListenerMixin.js",
    "node_modules/reflux/src/PublisherMethods.js",
    "node_modules/reflux/src/StoreMethods.js",
    "node_modules/reflux/src/bindMethods.js",
    "node_modules/reflux/src/connect.js",
    "node_modules/reflux/src/connectFilter.js",
    "node_modules/reflux/src/createAction.js",
    "node_modules/reflux/src/createStore.js",
    "node_modules/reflux/src/index.js",
    "node_modules/reflux/src/joins.js",
    "node_modules/reflux/src/listenTo.js",
    "node_modules/reflux/src/listenToMany.js",
    "node_modules/reflux/src/mixer.js",
    "node_modules/reflux/src/utils.js"
  ],
  "names": [],
  "mappings": "AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;;ACLA;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrGA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrOA;AACA;AACA;AACA;AACA;AACA;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrLA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "var React=require(\"react\");\r\nrequire(\"ksana2015-webruntime/livereload\")(); \r\nvar ksanagap=require(\"ksana2015-webruntime/ksanagap\");\r\nksanagap.boot(\"correspondence\",function(){\r\n\tvar Main=React.createElement(require(\"./src/main.jsx\"));\r\n\tksana.mainComponent=React.render(Main,document.getElementById(\"main\"));\r\n});",
    "var Reflux=require(\"reflux\");\r\nvar actions=Reflux.createActions([\r\n\t\"add\"\r\n\t,\"clear\"\r\n]);\r\nmodule.exports=actions;",
    "module.exports=require(\"reflux\").createActions([\"add\",\"remove\",\"replace\"]);",
    "var React=require(\"react\");\r\nvar actions=require(\"./actions\");\r\nvar Controls=React.createClass({displayName: \"Controls\",\r\n  \tadd:function() {\r\n\t\tactions.add(Math.random().toString().substr(2,5));\r\n\t}\r\n\t,clear:function() {\r\n\t\tactions.clear();\r\n\t}\r\n\t,render:function() {\r\n\t\treturn React.createElement(\"div\", null, \r\n      \t\tReact.createElement(\"button\", null, \"Add Link\"), \r\n      \t\tReact.createElement(\"button\", null, \"Remove Link\")\r\n     )\r\n\t}\r\n});\r\n\r\nmodule.exports=Controls;",
    "var React=require(\"react\");\r\nvar data=require(\"./mockdata\");\r\nvar Translations=require(\"./views/translations\");\r\nvar Controls=require(\"./controls\");\r\nvar Maincomponent = React.createClass({displayName: \"Maincomponent\",\r\n  render: function() {\r\n    return React.createElement(\"div\", null, \r\n    \tReact.createElement(Controls, null), \r\n      React.createElement(Translations, {data: data, uti: \"10.5\"})\r\n    );\r\n  }\r\n});\r\nmodule.exports=Maincomponent;",
    "module.exports=[\r\n [\"sanskrit\",\"10.5\",\"tasmāt tarhi subhūte bodhisattvena mahāsattvenaivam apratiṣṭhitaṃcittam utpādayitavyaṃ yanna kvacit pratiṣṭhitaṃ cittam utpādayitavyaṃna rūpa-pratiṣṭhitaṃ cittam utpādayitavyaṃ naśabda-gandha-rasa-spraṣṭavya-dharma-pratiṣṭhitaṃ cittamutpādayitavyam |\"]\r\n,[\"kumarajiva\",\"10.5\",\"「是故須菩提，諸菩薩摩訶薩應如是生清淨心，不應住色生心，不應住聲、香、味、觸、法生心，應無所住而生其心。\"]\r\n,[\"bodhiruci\",\"10.5\",\"\t是故須菩提！諸菩薩摩訶薩，應如是生清淨心，而無所住，不住色生心，不住聲、香、味、觸、法生心，應無所住而生其心。\"]\r\n,[\"gupta\",\"10.5\",\"彼故此，善實！菩薩摩訶薩如是不住心發生應，不色住心發生應，不聲、香、味、觸、法住心發生應，無所住心發生應！\"]\r\n,[\"yijing\",\"10.5\",\"是故，妙生！菩薩不住於事，不住隨處，不住色、聲、香、味、觸、法，應生其心；應生不住事心，應生不住隨處心，應生不住色、聲、香、味、觸、法心。\"]\r\n,[\"xuanzang\",\"10.5\",\"是故，善現，菩薩如是都無所住應生其心，不住於色應生其心，不住非色應生其心，不住聲、香、味、觸、法應生其心，不住非聲、香、味、觸、法應生其心，都無所住應生其心。\"]\r\n,[\"tibetan\",\"10.5\",\"རབ་འབྱོར་དེ་ལྟ་བས་ན། བྱང་ཆུབ་སེམས་དཔའ་སེམས་དཔའ་ཆེན་པོས་འདི་ལྟར་མི་གནས་པར་སེམས་པ་བསྐྱེད་པར་བྱ་སྟེ། ཅི་ལ་ཡང་མི་གནས་པར་སེམས་བསྐྱེད་པར་བྱའོ། ། གཟུགས་ལ་མི་གནས་པར་སེམས་བསྐྱེད་པར་བྱའོ། ། སྒྲ་དང་དྲི་དང་རོ་དང་རེག་བྱ་དང་ཆོས་ལ་ཡང་མི་གནས་པར་སེམས་བསྐྱེད་པར་བྱའོ། །\"]\r\n,[\"conze\",\"10.5\",\"Therefore then, Subhuti, the Bodhisattva, the great being, should produce an unsupported thought, i.e. a thought which is nowhere supported, a thought unsupported by sights, sounds, smells, tastes, touchables or mind-objects.\"]\r\n];\r\n\r\n/*\r\n\"s9.2\":\"subhūtir āha | no hīdaṃ bhagavan | na srotāpannasyaivaṃ bhavati mayāsrotāpatti-phalaṃ prāptam iti | tat kasya hetoḥ | na hi sa bhagavan kaṃciddharmam āpannaḥ | tenocyate srotāpanna iti | na rūpam āpanno na śabdānna gandhān na rasān na spraṣṭavyān dharmān āpannaḥ | tenocyatesrotāpanna iti |\"\r\n,\"k9.2\":\"須菩提言：「不也，世尊！何以故？須陀洹名為入流，而無所入，不入色、聲、香、味、觸、法，是名須陀洹。」\"\r\n,\"b9.2\":\"須菩提言：「不也，世尊！何以故？實無有法名須陀洹。不入色聲香味觸法，是名須陀洹。」\"\r\n,\"g9.2\":\"善實言：「不如此，世尊！彼何所因？不彼，世尊！一人，彼故說名流入。不色入，不聲、不香、不味、不觸、不法入，彼故說名流入者。\"\r\n,\"y9.2\":\"妙生言：「不爾，世尊！何以故？諸預流者，無法可預，故名預流。不預色、聲、香、味、觸、法，故名預流。\"\r\n,\"x9.2\":\"善現答言：不也，世尊！諸預流者不作是念『我能證得預流之果』！何以故？世尊，諸預流者無少所預，故名預流；不預色、聲、香、味、觸、法，故名預流。\"\r\n,\"t9.2\":\"རབ་འབྱོར་གྱིས་གསོལ་པ། བཅོམ་ལྡན་འདས་དེ་ནི་མ་ལགས་སོ། ། དེ་ཅིའི་སླད་དུ་ཞེ་ན། བཅོམ་ལྡན་འདས་དེ་ནི་ཅི་ལའང་ཞུགས་པ་མ་མཆིས་པའི་སླད་དུ་སྟེ། དེས་ན་རྒྱུན་དུ་ཞུགས་པ་ཞེས་བགྱིའོ། ། གཟུགས་ལའང་མ་ཞུགས། སྒྲ་ལ་ཡང་མ་ལགས། དྲི་ལ་ཡང་མ་ལགས། རོ་ལ་ཡང་མ་ལགས། རེག་བྱ་ལ་ཡང་མ་ལགས། ཆོས་རྣམས་ལ་ཡང་མ་ཞུགས་ཏེ། དེས་ན་རྒྱུན་དུ་ཞུགས་པ་ཞེས་བགྱིའོ། །\"\r\n,\"e9.2\":\"Subhuti replied: No indeed, O Lord. And why? Because, O Lord, he has not won any dharma. Therefore is he called a Stream-winner. No sight-object has been won, no sounds, smells, tastes, touchables, or objects of mind. That is why he is called a 'Streamwinner'.\"\r\n*/",
    "var React=require(\"react/addons\");\r\nvar bs=require(\"react-bootstrap\");\r\nvar Table=bs.Table;\r\nvar SelectableView=require(\"ksana-layer-react\").SelectableView;\r\nvar E=React.createElement;\r\nvar action_selection=require(\"../actions/selection\");\r\nvar action_link=require(\"../actions/link\");\r\n\r\n\r\nvar Translations=React.createClass({displayName: \"Translations\",\r\n\r\n\tonSelectText:function(start,len,text,params,sels) {\r\n\t\tconsole.log(\"selectext\",arguments)\r\n\t\t//return true if already has markup.\r\n\t\t//action_selection.set(params.sender,sels);\r\n\t}\r\n\t,renderItem:function(item,idx) {\r\n\t\treturn E(\"tr\",null,\r\n\t\t\tE(\"td\",null,item[0])\r\n\t\t\t,E(\"td\",null,E(SelectableView,{\r\n\t\t\t\tselections:[[1,2,\"a\"]],id:idx,onSelectText:this.onSelectText,text:item[2]}))\r\n\t\t);\r\n\t}\r\n\t,render:function() {\r\n\t\treturn E(Table,{striped:true,bordered:true,condensed:true},\r\n\t\t\tthis.props.data.map(this.renderItem));\r\n\t}\r\n})\r\nmodule.exports=Translations;",
    "var FlattenView=require(\"./src/flattenview\");\r\nvar SelectableView=require(\"./src/selectableview\");\r\nvar InterlineView=require(\"./src/interlineview\");\r\n\r\nvar textrange=require(\"./src/textrange\");\r\n\r\n\r\n//var BaseView=require(\"./src/baseview\");\r\n//var MultiSelectView=require(\"./src/multiselectview\");\r\n//var ReviseView=require(\"./src/reviseview\");\r\n\r\n\r\n//var RevisionView=require(\"./src/revisionview\");\r\n\r\nmodule.exports={FlattenView:FlattenView,SelectableView:SelectableView,InterlineView:InterlineView,\r\n\ttextrange:textrange};",
    "var create=function(_text) {\r\n\tvar caretPos={},pos=0,text=_text;\r\n\r\n\tcaretPos.get=function(){\r\n\t\treturn pos;\r\n\t}\r\n\r\n\tvar nonstop=function(code) {\r\n\t\treturn (code>=0xDC00 && code<=0xDFFF) || (code>=0x0f71 && code<=0x0f87)|| (code>=0x0f8d && code<=0x0fbc);\r\n\t}\r\n\r\n\tvar snapNext=function(_pos) {\r\n\t\tif (typeof _pos==\"undefined\") _pos=pos;\r\n\t\tvar code=text.charCodeAt(_pos);\r\n\t\twhile (nonstop(code)) {\r\n\t\t\t_pos++;\r\n\t\t\tcode=text.charCodeAt(_pos);\r\n\t\t}\r\n\t\treturn _pos\t}\r\n\tvar snapPrev=function(_pos) {\r\n\t\tif (typeof _pos==\"undefined\") _pos=pos;\r\n\t\tvar code=text.charCodeAt(_pos);\r\n\t\twhile (nonstop(code)) {\r\n\t\t\t_pos--;\r\n\t\t\tcode=text.charCodeAt(_pos);\r\n\t\t}\r\n\t\treturn _pos;\t\r\n\t}\t\r\n\tcaretPos.next=function(_pos){\r\n\t\tpos=snapPrev(_pos);\r\n\t\tpos++;\t\r\n\t\tvar code=text.charCodeAt(pos);\r\n\t\twhile (nonstop(code)) {\r\n\t\t\tpos++;\r\n\t\t\tcode=text.charCodeAt(pos);\r\n\t\t}\r\n\t\tif (pos>text.length) pos=text.length;\r\n\t\treturn pos;\r\n\t}\r\n\tcaretPos.nextToken=function(_pos) {\r\n\t\tvar start=snapPrev(_pos);\r\n\t\tthis.next(start);\r\n\t\treturn text.substring(start,pos);\r\n\t}\r\n\tcaretPos.prevToken=function(_pos) {\r\n\t\tvar end=snapNext(_pos);\r\n\t\tthis.prev(end);\r\n\t\treturn text.substring(pos,end);\r\n\t}\r\n\tcaretPos.prev=function(_pos) {\r\n\t\tpos=snapNext(_pos);\r\n\t\tpos--;\r\n\t\tvar code=text.charCodeAt(pos);\r\n\t\twhile (nonstop(code)) {\r\n\t\t\tpos--;\r\n\t\t\tcode=text.charCodeAt(pos);\r\n\t\t}\r\n\t\tif (pos<0) pos=0;\r\n\t\treturn pos;\r\n\t}\r\n\tcaretPos.valid=function(_pos) {\r\n\t\treturn !nonstop(text.charCodeAt(_pos));\r\n\t}\r\n\r\n\treturn caretPos;\r\n}\r\nmodule.exports={create:create};",
    "/*\n  Span's styles is created by merging styles of all tags covering the span.\n*/\ntry {\n  var React=require(\"react-native\");\n  var PureRenderMixin=null;\n} catch(e) {\n  var React=require(\"react/addons\");\n  var PureRenderMixin = React.addons.PureRenderMixin;\n}\nvar E=React.createElement,PT=React.PropTypes;\n\n\nvar mergeStyles=function(styles) {\n  if (!styles.length) return null;\n  var out={};\n  for (var i=0;i<styles.length;i++) {\n    for (var key in styles[i]) {\n      out[key]=styles[i][key];\n    }\n  }\n  return out;\n}\nvar SpanClass = React.createClass({\n  displayName:\"defaultSpan\"\n  ,mixins:[PureRenderMixin]\n  ,propTypes:{\n    tid:PT.array\n    ,index:PT.number\n    ,tags:PT.array.isRequired\n    ,start:PT.number.isRequired\n    ,tagStyles:PT.object\n  }\n  ,getTagStyle:function(tid) {\n    if (!tid) return {};\n    var out=[];\n    for (var i=0;i<tid.length;i++){\n      var m=tid[i];\n      var styles=this.props.styles;\n      var tag=this.props.tags[m];\n      tag.style&&out.push(tag.style);\n      var type=tag.className;\n      styles[type]&&out.push(styles[type]);\n      styles[type+\"_first\"]&&out.push(styles[type+\"_first\"]);\n      styles[type+\"_last\"]&&out.push(styles[type+\"_last\"]);        \n    };\n    return out;\n  }\n  ,getTagType:function(tid){\n    if (!tid) return [];\n    var out=[];\n    for (var i=0;i<tid.length;i++){\n      var m=tid[i];\n      var styles=this.props.styles;\n      var tag=this.props.tags[m];\n      var type=tag.className;\n      type&&out.push(type);\n    }\n    return out;\n  }\n  ,render:function() {\n    var styles=this.getTagStyle(this.props.tid);\n    var style=mergeStyles(styles);\n    var span=React.Text||\"span\";\n    \n    var props={\"data-tid\":this.props.tid,style:style,\"data-start\":this.props.start};    \n    props.className=this.getTagType(this.props.tid).join(\" \");  //pass className as it's  \n    if (style) {\n      //work around, react doensn't apply style, don't why\n      return E(span,props,E(span,{},this.props.children));\n    }\n    \n    return E(span,props,this.props.children);\n  }\n});\nmodule.exports=SpanClass;\n",
    "/*\r\n\tCore markup display component,\r\n\t\"flatten\" text, tags (with styles) to single layer.\r\n*/\r\ntry {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\n\r\nvar spreadMarkup=require(\"./markuputil\").spreadMarkup;\r\nvar caretPos=require(\"./caretpos\");\r\nvar defaultSpan=require(\"./defaultspan\");\r\nvar FlattenView=React.createClass({\r\n\tdisplayName:\"FlattenView\"\r\n\t,mixins:[PureRenderMixin]\r\n\t,propTypes:{\r\n\t\ttext:React.PropTypes.string.isRequired\r\n\t\t,tags:PT.array\r\n\t\t,styles:PT.object\r\n\t\t,span:PT.func\r\n\t\t,style:PT.object\r\n\t\t,allowKeys:PT.array\r\n\t\t,onMouseUp:PT.func,onKeyDown:PT.func ,onKeyUp:PT.func\t,onKeyPress:PT.func\r\n\t}\r\n\t,getDefaultProps:function() {\r\n\t\treturn {tags:{},styles:{},span:defaultSpan};\r\n\t}\r\n\t,tagAtPos:[] // hold covering tags given a text position\r\n\t,mergeStyle:function(style) {\r\n\t\tthis.style=style||{};\r\n\t\tif (!this.style.lineHeight||!this.style.outline) {\r\n\t\t\tthis.style=update(this.style,{$merge:{\r\n\t\t\t\toutline : \"0px solid transparent\", lineHeight:\"180%\"\r\n\t\t\t}});\r\n\t\t}\t\t\r\n\t}\r\n\t,componentWillMount:function() {\r\n\t\tthis.mergeStyle(this.props.style);\r\n\t\tthis.tagAtPos=spreadMarkup(this.props.tags);\r\n\t}\r\n\t,componentWillReceiveProps:function(nextProps) {\r\n\t\tthis.mergeStyle(nextProps.style);\r\n\t\tthis.tagAtPos=spreadMarkup(nextProps.tags);\r\n\t}\r\n\t,renderSpan:function(out,start,end,spantext,tid) {\r\n\t\tvar before=[],after=[], tags=this.props.tags;\r\n\t\t(tid||[]).map(function(m){ \r\n\t\t\tif (tags[m].before&& start===tags[m].s) { \r\n\t\t\t\tbefore.push(tags[m].before);\r\n\t\t\t}\r\n\t\t});\r\n\t\tbefore.length && out.push(E(React.Text||\"span\",{key:\"b\"+start},before));\r\n\r\n\t\tout.push(E(this.props.span,{index:this.props.index,\r\n\t\t\t\t\tstyles:this.props.styles,key:'s'+start, tags:tags,tid:tid,start:start}\r\n\t\t\t\t,spantext )\r\n\t\t);\r\n\r\n\t\t(tid||[]).map(function(m){ \r\n\t\t\tif (tags[m].after && end===tags[m].s+tags[m].l) {\r\n\t\t\t\tafter.push(tags[m].after);\r\n\t\t\t} \r\n\t\t});\r\n\t\t\r\n\t\tafter.length && out.push(E(React.Text||\"span\",{key:\"a\"+start},after));\r\n\t\treturn out;\r\n\t}\r\n\t,renderChildren:function() {\r\n\t\tvar sameArray=function(a1,a2) {\r\n\t\t\tif (!a1 && !a2) return true; //both are empty\r\n\t\t\tif ((!a1 && a2) || (a1 && !a2) ) return false;\r\n\t\t\treturn a1.toString()===a2.toString(); //one dimensional array\r\n\t\t}\r\n\t\tvar out=[], spantext=\"\" ,start=0, previous=[\"impossible item\"] ;\r\n\t\tvar caretpos=caretPos.create(this.props.text);\r\n\r\n\t\twhile (caretpos.get()<this.props.text.length) {\r\n\t\t\tvar i=caretpos.get();\r\n\t\t\tif (!sameArray(this.tagAtPos[i],previous)) {\r\n\t\t\t\tspantext && (out=this.renderSpan(out,start,i,spantext,previous));\r\n\t\t\t\tstart=i;\r\n\t\t\t\tspantext=\"\";\r\n\t\t\t}\r\n\t\t\tprevious=(this.tagAtPos[i]&&this.tagAtPos[i].length)?JSON.parse(JSON.stringify(this.tagAtPos[i])):null; \r\n\t\t\tif (i>this.tagAtPos.length) break;\r\n\t\t\tspantext += caretpos.nextToken();\r\n\t\t}\r\n\t\tspantext=this.props.text.substr(start);\r\n\t\tspantext && (out=this.renderSpan(out,start,i,spantext,previous));\r\n\t\treturn out;\r\n\t}\r\n\t,render:function() {\r\n\t\tvar props=update(this.props, {$merge:{spellCheck:false, style:this.style}});\r\n\t\treturn E(React.View||\"div\",props,this.renderChildren());\r\n\t}\r\n});\r\nmodule.exports=FlattenView;",
    "try {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\nvar Embed=React.createClass({\r\n\trender:function() {\r\n\t\treturn E(\"span\",this.props,this.props.children);\r\n\t}\r\n});\r\nvar Super=React.createClass({\r\n\trender:function() {\r\n\t\treturn E(\"div\",{style:{position:\"absolute\",left:0,top:\"-1.2em\",width:\"1000px\"}}\r\n\t\t\t,this.props.children);\r\n\t}\r\n});\r\nvar Sub=React.createClass({\r\n\trender:function() {\r\n\t\treturn E(\"div\",{style:{position:\"absolute\",left:0,top:\"0.6em\",width:\"1000px\"}}\r\n\t\t\t,this.props.children);\r\n\t}\r\n});\r\nvar Container=React.createClass({\r\n\trender:function() {\r\n\t\treturn E(\"span\",{style:{position:\"relative\"}}\r\n\t\t\t,this.props.children);\r\n\t}\r\n});\r\n\r\nmodule.exports={Container:Container,Super:Super, Sub:Sub, Embed:Embed};",
    "/*\r\n\tInterlineView\r\n\tfilter markups and create tags and pass to selectableview\r\n\r\n\tmarkups : data from firebase,\r\n\t          interline editor mutate markups and write back to database.\r\n\r\n\ttags: with before/after component and className, ready for render\r\n\t\t    tags are generated on-the-fly , no need to save.\r\n\r\n*/\r\n\r\ntry {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\nvar SelectableView=require(\"./selectableview\");\r\nvar markup2tag=require(\"./markup2tag\");\r\nvar keyboard_mixin=require(\"./keyboard_mixin\");\r\nvar InterlineView=React.createClass({\r\n\tmixins:[PureRenderMixin]\r\n\t,propTypes:{\r\n\t\tmarkups:PT.object.isRequired  //markup from firebase\r\n\t\t,user:PT.string\r\n\t\t,allowkeys:PT.array\r\n\t\t,onKeyPress:PT.func\r\n\t}\r\n\t,getInitialState:function() {\r\n\t\tvar allowKeys=keyboard_mixin.arrowkeys;\r\n\t\tif (this.props.allowKeys && this.props.allowKeys.length) {\r\n\t\t\tallowKeys=allowKeys.concat(this.props.allowKeys);\r\n\t\t}\r\n\t\t//markupActivated : { mid: true , mid: false }; //otherwise it is not initialized\r\n\t\treturn {tags:[],editing:null,hovering:null,markupActivated:{},allowKeys:allowKeys};\r\n\t}\r\n\t,onKeyPress:function(e) {\r\n\t\tvar nn=e.target.nodeName;\r\n\t\tif (nn===\"INPUT\" || nn===\"TEXTAREA\") return;\r\n\r\n\t\tif (this.state.allowKeys.indexOf(e.key)>-1) {\r\n\t\t\tif (this.props.onKeyPress) this.props.onKeyPress(e);\r\n\t\t} else {\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\t,componentWillUpdate:function(nextProps,nextState) {\r\n\t\tthis.markup2tag(nextProps,nextState);\r\n\t}\r\n\t,componentDidMount:function() {\r\n\t\tthis.forceUpdate();\r\n\t}\r\n\t,markup2tag:function(nextProps,nextState) {\r\n\t\tvar status={editing:nextState.editing,hovering:nextState.hovering\r\n\t\t\t,text:nextProps.text\r\n\t\t\t,action:this.action,markupActivated:nextState.markupActivated,action:this.action};\r\n\r\n\t\tnextState.tags=markup2tag(nextProps.markups,status);\r\n\t\tnextState.markupActivated=status.markupActivated; //markup2tag might change markupActivated\r\n\t}\r\n  ,activateMarkup:function(mid) {\r\n  \tvar m=this.props.markups[mid];\r\n  \tif (!m)return;\r\n\t\tvar markupActivated=this.deactivateOverlapMarkup(m.s,m.l);\r\n\t\tvar activate={};\r\n\t\tactivate[mid]=true;\r\n\t\tvar ma=update(markupActivated,{$merge:activate});\r\n\t\tthis.setState({editing:null,hovering:null,markupActivated:ma});\r\n  }\r\n  ,componentWillReceiveProps:function(nextProps) {\r\n  \tif (nextProps.editing!==this.props.editing) {\r\n  \t\tthis.activateOrEditMarkup(nextProps.editing,nextProps);\r\n  \t}\r\n  }\r\n  ,activateOrEditMarkup:function(mid,props) {\r\n  \tif (!props) props=this.props;\r\n  \tif (!mid || !this.props.markups[mid]) return;\r\n  \tif (this.props.markups[mid].author===this.props.user) {\r\n  \t\tthis.setState({editing:mid,hovering:null});\r\n  \t} else {\r\n  \t\tthis.activateMarkup(mid);\r\n  \t}\r\n  }\r\n  ,deactivateMarkup:function(mid) {\r\n\t\tvar markupActivated=this.state.markupActivated;\r\n\t\tvar deactive={};\r\n\t\tdeactive[mid]=false;\r\n\t\tvar ma=update(markupActivated,{$merge:deactive});\r\n\t\tthis.setState({editing:null,hovering:null,markupActivated:ma});\r\n  }\r\n  ,deactivateOverlapMarkup:function(start,len) {\r\n\t\t//set state to 0 for any overlap markup\r\n\t\tvar deactive={};\r\n\t\tfor (var mid in this.props.markups) {\r\n\t\t\tvar m=this.props.markups[mid];\r\n\t\t\tif (!(start>=m.s+m.l || start+len<=m.s) ) {\r\n\t\t\t\tif (this.state.markupActivated[mid]) deactive[mid]=false;\r\n\t\t  }\r\n\t\t\tif (start===m.s && this.state.markupActivated[mid]) deactive[mid]=false;\r\n\t\t};\r\n\t\treturn update(this.state.markupActivated,{$merge:deactive});\r\n  }\r\n  ,setMarkup:function(mid,key,value) {\r\n  \tvar m=this.props.markups[mid];\r\n  \tvar obj={};\r\n  \tobj[key]=value;\r\n  \tthis.props.markups[mid]=update(m,{$merge:obj});\r\n  \tthis.forceUpdate();\r\n  }\r\n\t,action:function(act,p1,p2,p3) {\r\n\t\tif(act===\"enter\") {\r\n \t\t\tthis.setState({hovering:p1})\r\n\t\t} else if (act===\"leave\") {\r\n\t\t\tif (this.state.editing) {\r\n\t\t\t\tthis.props.onDoneEdit&&this.props.onDoneEdit(this.state.editing);\r\n\t\t\t}\r\n\t\t\tthis.setState({hovering:null,editing:null});\r\n\t\t} else if (act===\"activate\") {\r\n\t\t\tthis.activateMarkup(p1);\r\n\t\t} else if (act===\"deactivate\") {\r\n\t\t\tthis.deactivateMarkup(p1)\r\n\t\t} else if (act===\"activate_edit\") { //\r\n\t\t\tthis.activateOrEditMarkup(p1);\r\n\t\t} else if (act===\"setMarkup\") {\r\n\t\t\tthis.setMarkup(p1,p2,p3);\r\n\t\t}\r\n\t}\r\n\t,render:function(){\r\n\t\tvar props=update(this.props,{$merge:{tags:this.state.tags,\r\n\t\t\tselectable:this.props.selectable,\r\n\t\t\tallowKeys:this.state.allowKeys,\r\n\t\t\tonFocus:this.props.onFocus,\r\n\t\t\tonBlur:this.props.onBlur,\r\n\t\t\tonKeyPress:this.onKeyPress}});\r\n\t\tdelete props.markups;//hide markups from flattenview\r\n\t\treturn E(SelectableView,props);\r\n\t}\r\n\r\n});\r\n\r\nmodule.exports=InterlineView;",
    "\r\nvar keyboard_mixin={\r\n\tarrowkeys:[\"ArrowRight\",\"ArrowLeft\",\"ArrowUp\",\"ArrowDown\",\"PageUp\",\"PageDown\",\"Home\",\"End\"],\r\n\tonkeydown:function(e) {\r\n\t\tvar nodename=e.target.nodeName;\r\n\t\tif (nodename===\"INPUT\" || nodename===\"TEXTAREA\") return;\r\n\t\tvar allowkeys=this.state.allowkeys||[];\r\n\t\tif (allowkeys.indexOf(e.key)>-1 || (e.ctrlKey && e.keyCode===67)) return; //allow ctrl+c\r\n\r\n\t\te.preventDefault();\r\n\t}\r\n}\r\nmodule.exports=keyboard_mixin;",
    "var React=require(\"react\");\r\nvar E=React.createElement;\r\nvar typedef=require(\"./typedef\");\r\nvar markuputil=require(\"./markuputil\");\r\nvar MarkupSelector=require(\"./markupselector\");\r\n\r\n/**\r\n\tput no conflict markup in object markupActivated\r\n*/\r\nvar defaultActiveMarkups=function(gbo,markupActivated) {\r\n\tfor (var start in gbo){\r\n\t\tvar markupcount= Object.keys(gbo[start]).length;\r\n\t\tfor (var mid in gbo[start]){\r\n\t\t\tif (typeof markupActivated[mid]===\"undefined\") {\r\n\t\t\t\tmarkupActivated[mid]= markupcount===1? true:false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar allDisabled=function(markups,markupActivated) {\r\n\tfor (var mid in markups) {\r\n\t\tif (markupActivated[mid]) return false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nvar createMarkupSelector=function(start,context,markups) {\r\n\tvar selector=E(MarkupSelector,{markups:markups,context:context,key:\"selector\"} );\r\n\treturn {s:start,l:0,before:selector};\r\n}\r\n\r\n\r\nvar markup2tag=function(markups,context) {\r\n\tvar gbo=markuputil.groupByOffset(markups);\r\n\tdefaultActiveMarkups(gbo,context.markupActivated);\r\n\tvar out=[];\r\n\tvar createTag=function(mid,showSuper) {\r\n\t\t\tvar m=markups[mid], cls=cls||m.type;\r\n\t\t\tvar Component=typedef[m.type].Component;\r\n\t\t\tvar getStyle=typedef[m.type].getStyle||function(){return {}};\r\n\t\t\t//console.log(\"style\",context.hovering,getStyle(mid,context),mid)\r\n\t\t\tvar before=E(Component,\r\n\t\t\t\t\t\t\t{ mid:mid,showSuper:showSuper,\r\n\t\t\t\t\t\t\t\thovering:context.hovering===mid,\r\n\t\t\t\t\t\t\t\tediting:context.editing===mid,\r\n\t\t\t\t\t\t\t\tmarkup:m,context:context,key:mid,\r\n\t\t\t\t\t\t\t\tactivated:context.markupActivated[mid]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\treturn {s:start, l:m.l, mid:mid, before: before, style:getStyle(m,mid,context)};\r\n\t}\r\n\tfor (var i in gbo) {\r\n\t\tvar start=parseInt(i), markups=gbo[i];\r\n\t\tvar hovering=markups[context.hovering]?context.hovering:null; //this group has hovering markup\r\n\t\tvar editing=markups[context.editing]?context.editing:null;    //this group has editing markup\r\n\t\tvar markupcount=Object.keys(markups).length;\r\n\t\tvar showSuper=true;\r\n\t\tif (!context.editing && markupcount>1 && allDisabled(markups,context.markupActivated )) {\r\n\t\t\tshowSuper=false;\r\n\t\t\tout.push(createMarkupSelector(start,context,markups));\r\n\t\t}\r\n\t\tif (editing||hovering) {\r\n\t\t\tout.push(createTag(editing||hovering,showSuper));\r\n\t\t} else {\r\n\t\t\tfor (var mid in markups) {\r\n\t\t\t\tout.push(createTag(mid, showSuper && (context.markupActivated[mid]||markupcount===1)));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn out;\r\n}\r\n\r\n\r\nmodule.exports=markup2tag;",
    "try {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\nvar IL=require(\"./interline\");\r\nvar handlerStyle={borderStyle:\"solid\",borderColor:\"gray\",fontSize:\"50%\",color:\"silver\",borderWidth:2\r\n\t\t\t,borderRadius:\"20%\",cursor:\"pointer\",verticalAlign:\"top\",\r\n\t\t\tbackgroundColor:\"drakgray\",height:\"0.5em\",width:\"0.5em\"};\r\nvar handlerStyle_hover=update(handlerStyle,{$merge:{borderColor:\"brown\"}});\r\n\r\nvar MarkupSelector=React.createClass({\r\n\tmixins:[PureRenderMixin]\r\n\t,propTypes:{\r\n\t\tmarkups:PT.object.isRequired\r\n\t\t,context:PT.object.isRequired\r\n\t}\r\n\t,onClick:function(e) {\r\n\t\tvar mid=e.target.dataset.mid;\r\n\t\tvar act=this.props.activated?\"deactivate\":\"activate_edit\";\r\n\t\tthis.props.context.action(act,mid);\r\n\t}\r\n\t,renderHandlers:function() {\r\n\t\tvar out=[];\r\n\t\tfor (var mid in this.props.markups) {\r\n\t\t\tvar m=this.props.markups[mid];\r\n\t\t\tvar hovering=this.props.context.hovering===mid;\r\n\t\t\tvar style=hovering?handlerStyle_hover:handlerStyle;\r\n\t\t\tout.push(E(\"span\",{\"data-mid\":mid,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,\r\n\t\t\tonClick:this.onClick, key:mid,style:style},m.username||m.author));\r\n\t\t}\r\n\t\treturn out;\r\n\t}\r\n\t,onMouseEnter:function(e) {\r\n\t\tclearTimeout(this.leavetimer);\r\n\t\tvar mid=e.target.dataset.mid;\r\n\t\tthis.props.context.action(\"enter\",mid);\r\n\t}\r\n\t,onMouseLeave:function() {\r\n\t\tvar action=this.props.context.action;\r\n\t\taction(\"leave\");//have to leave immediately as parent might be destroyed\r\n\t}\r\n\t,renderHandler:function() {\r\n\t\tif (this.props.markups[this.props.context.hovering]) {\r\n\t\t\treturn E(\"span\",{},this.renderHandlers());\r\n\t\t} else {\r\n\t\t\tvar mid=Object.keys(this.props.markups)[0];\r\n\t\t\tvar markupcount=Object.keys(this.props.markups).length;\r\n\t\t\treturn E(\"span\",{\"data-mid\":mid,\r\n\t\t\t\tstyle:handlerStyle,onMouseEnter:this.onMouseEnter\r\n\t\t\t\t,onMouseLeave:this.onMouseLeave},\"+\"+markupcount);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t,render:function() {\r\n\t\treturn E(IL.Container,{},\r\n\t\t\t\t E(IL.Super, {},this.renderHandler() )\r\n\t\t\t);\r\n\t}\r\n});\r\nmodule.exports=MarkupSelector;",
    "/**\r\n\tinput : { markupid:{markup}, markupid:{markup} }\r\n\treturn { offset: { markupid:{markup} , markupid:{markup}] }\t\r\n*/\r\nvar groupByOffset=function(markups) {\r\n\tvar out={};\r\n\tfor (var id in markups) {\r\n\t\tvar m=markups[id];\r\n\t\tif (!out[m.s]) out[m.s]={};\r\n\t\tout[m.s][id]=m;\r\n\t}\r\n\treturn out;\r\n}\r\n\r\nvar nmarkupAtPos=function(markups,offset) {\r\n    return markups.reduce(function(prev,m){return (m.s===offset)?prev+1:prev },0);\r\n}\r\n\r\n// create minimum spans for overlap markup.\r\n// each span holds an array of markups id in props.mid\r\n// this.spreaded is the starting offset of the text snippnet in the span\r\n// markup other than _select_ (the build in classname for selection)\r\n// with len==0 is same as len==1\r\n\r\nvar spreadMarkup=function(markups){\r\n\tif (!markups) return [];\r\n\tvar out=[];\r\n\tfor (var n in markups) {\r\n\t\tvar m=markups[n];\r\n\t\tfor (var j=m.s;j<m.s+m.l+1;j++) {\r\n\t\t\tif ( (!m.l && m.type!==\"_selected_\") || j<m.s+m.l ) {\r\n\t\t\t\tif (!out[j]) out[j]=[];\r\n\t\t\t\tout[j].push(n);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tfor (var i=0;i<out.length;i++) {\r\n\t\tout[i]&&out[i].sort(function(a,b){return a-b});\r\n\t}\r\n\treturn out;\r\n}\r\n\r\nmodule.exports={groupByOffset:groupByOffset,nmarkupAtPos:nmarkupAtPos,\r\n\tspreadMarkup:spreadMarkup};",
    "try {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\nvar containerStyle={\r\n\tborderBottom:\"solid 0.1em green\"\r\n}\r\nvar inputStyle={\r\n\t  backgroundColor: \"transparent\",\r\n//\t\ttextDecoration: \"underline\",\r\n    outline:0,\r\n    border:0,\r\n    fontSize:\"100%\",\r\n    fontFamily:\"inherit\",\r\n    color: \"inherit\"\r\n}\r\nvar RevisionEdit=React.createClass({\r\n\tdisplayName:\"RevisionEdit\"\r\n\t,mixins:[PureRenderMixin]\r\n\t,propTypes:{\r\n\t\tediting:PT.bool.isRequired\r\n\t\t,action:PT.func.isRequired\r\n\t}\r\n\t,setCaret:function() {\r\n\t\tvar that=this;\r\n\t\tsetTimeout(function(){\r\n\t\t\tif (!that.refs.input) return;//input destroyed\r\n\t\t\tvar input=that.refs.input.getDOMNode();\t\r\n\t\t\tinput.focus();\r\n\t\t\tclearTimeout(this.blurtimer);\r\n\t\t\tvar val=input.value;\r\n\t\t\tinput.setSelectionRange(val.length,val.length);\r\n\t\t},100);\r\n\t}\r\n\t,onKeyPress:function(e) {\r\n\t\tif (e.key==\"Enter\") {\r\n\t\t\tvar input=this.refs.input.getDOMNode();\r\n\t\t\tthis.props.action(\"setText\",input.value);\t\r\n\t\t}\r\n\t}\r\n\t,componentDidMount:function() {\r\n\t\tthis.setCaret();\r\n\t}\r\n\t,componentDidUpdate:function() {\r\n\t\tif (this.props.editing) this.setCaret();\r\n\t}\t\r\n\t,onFocus:function() {\r\n\t\tif (!this.props.editing)  return;\r\n\t\tclearTimeout(this.blurtimer);\r\n\t}\r\n\t,onBlur:function() {\r\n\t\tif (!this.props.editing)  return;\r\n\t\tvar that=this;\r\n\t\tclearTimeout(this.blurtimer);\r\n\t\tthis.blurtimer=setTimeout(function(){\r\n\t\t\tthat.props.action(\"leave\");\r\n\t\t},500);\r\n\t},\r\n\trender:function() {\r\n\t\tvar size=this.props.markup.l||1;\r\n\t\treturn E(\"span\",{style:containerStyle},E(\"input\",{ref:\"input\",size:size,style:inputStyle,\r\n\t\t\tonKeyPress:this.onKeyPress,onFocus:this.onFocus,onBlur:this.onBlur,\r\n\t\t\tdefaultValue:this.props.markup.t}));\r\n\t}\r\n});\r\nmodule.exports=RevisionEdit;",
    "try {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\nvar style={fontSize:\"35%\",borderStyle:\"solid\",borderColor:\"gray\",borderRadius:\"25%\",cursor:\"pointer\"};\r\nvar RevisionEditControl=React.createClass({\r\n\tdisplayName:\"RevisionEditControl\"\r\n\t,mixins:[PureRenderMixin]\r\n\t,propTypes:{\r\n\t\tediting:PT.bool.isRequired\r\n\t\t,action:PT.func.isRequired\r\n\t}\r\n\t,caretprev:function() {\r\n\t\tthis.props.action(\"adjustlen\",-1);\r\n\t}\r\n\t,caretnext:function() {\r\n\t\tthis.props.action(\"adjustlen\",1);\r\n\t}\r\n\t,render:function() {\r\n\t\treturn (E(\"span\",{},\r\n\t\t\t\tE(\"a\",{key:\"prev\",onClick:this.caretprev,style:style},\"←\")\r\n\t\t\t\t,E(\"a\",{key:\"next\",onClick:this.caretnext,style:style},\"→\")\r\n\t\t\t)\r\n\t\t);\r\n\t}\r\n});\r\n\r\nmodule.exports=RevisionEditControl;",
    "try {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\nvar IL=require(\"../interline\");\r\nvar RevisionNote=require(\"./note\");\r\nvar RevisionEdit=require(\"./edit\");\r\nvar RevisionEditControl=require(\"./editcontrol\");\r\nvar caretPos=require(\"../caretpos\");\r\n\r\nvar RevisionEditMode=React.createClass({\r\n\tdisplayName:\"RevisionEditMode\"\r\n\t,mixins:[PureRenderMixin]\r\n\t,style:{display:\"none\"}\r\n\t,propTypes:{\r\n\t\tmarkup:PT.object.isRequired\r\n\t\t,mid:PT.string.isRequired\r\n\t\t,context:PT.object.isRequired\r\n\t}\r\n\t,getInitialState:function(){\r\n\t\treturn {editNote:false};\r\n\t}\r\n\t,adjustlen:function(direction) {\r\n\t\tvar m=this.props.markup;\r\n\t\tvar caretpos=caretPos.create(this.props.context.text.substr(m.s));\r\n\t\tvar newlen=direction<0?caretpos.prev(m.l):caretpos.next(m.l);\r\n\t\tthis.action(\"setLength\",newlen);\r\n\t}\r\n\t,action:function(act,p1) {\r\n\t\tif (act===\"editNote\") {\r\n\t\t\tconsole.log(\"editnote\")\r\n\t\t\tthis.setState({editNote:true});\r\n\t\t} else if (act===\"leaveNote\") {\r\n\t\t\tconsole.log(\"leavenote\")\r\n\t\t\tthis.setState({editNote:false});\r\n\t\t} else if (act===\"leave\") {\r\n\t\t\tif (!this.state.editNote) {\r\n\t\t\t\tthis.props.context.action(\"leave\",this.props.mid);\r\n\t\t\t}\r\n\t\t} else if (act===\"setLength\") {\r\n\t\t\tthis.props.context.action(\"setMarkup\",this.props.mid,\"l\",parseInt(p1)||0);\r\n\t\t} else if (act===\"setText\") {\r\n\t\t\tthis.props.context.action(\"setMarkup\",this.props.mid,\"t\",p1);\r\n\t\t\tthis.props.context.action(\"activate\",this.props.mid);\r\n\t\t\tthis.props.context.action(\"leave\",this.props.mid);\r\n\t\t} else if (act===\"setNote\") {\r\n\t\t\tthis.props.context.action(\"setMarkup\",this.props.mid,\"note\",p1);\r\n\t\t} else if (act===\"adjustlen\") {\r\n\t\t\tthis.adjustlen(p1);\r\n\t\t}\r\n\t}\r\n\t,renderNote:function() {\r\n\t\treturn E(RevisionNote,\r\n\t\t\t\t{note:this.props.markup.note,action:this.action,editing:this.state.editNote\r\n\t\t\t\t\t,mid:this.props.mid,activated:this.props.activated},\r\n\t\t\t\tthis.props.markup.note);\r\n\t}\r\n\t,render:function() {\r\n\t\tvar props=update(this.props,{$merge:{\r\n\t\t\tediting:!this.state.editNote,action:this.action}\r\n\t\t});\r\n\t\treturn E(IL.Container,{}\r\n\t\t\t,E(IL.Super, {}, E(RevisionEditControl,props) )\r\n\t\t\t,E(IL.Embed, {}, E(RevisionEdit,props))\r\n\t\t\t,E(IL.Sub  , {}, this.renderNote() )\r\n\t\t\t);\r\n\t}\r\n});\r\nmodule.exports=RevisionEditMode;",
    "try {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\nvar IL=require(\"../interline\");\r\nvar RevisionNote=require(\"./note\");\r\nvar RevisionEditMode=require(\"./editmode\");\r\nvar redlinethrough=require(\"./redlinethrough\");\r\nvar authorButtonStyle={\r\n\t\t\tborderStyle:\"solid\",borderColor:\"gray\",fontSize:\"50%\",color:\"silver\",borderWidth:2\r\n\t\t\t,borderRadius:\"20%\",cursor:\"pointer\",verticalAlign:\"top\",\r\n\t\t\tbackgroundColor:\"drakgray\",height:\"0.5em\",width:\"0.5em\"};\r\n\r\nvar AuthorButton=React.createClass({\r\n\tmixins:[PureRenderMixin]\r\n\t,propTypes:{\r\n\t\taction:PT.func.isRequired\r\n\t\t,mid:PT.string.isRequired\r\n\t\t,activated:PT.bool.isRequired\r\n\t\t,editable:PT.bool.isRequired\r\n\t}\r\n\t,activatedStyle: update(authorButtonStyle,{$merge:{borderColor:\"green\"}})\r\n\t,getInitialState:function() {\r\n\t\treturn {style:{}};\r\n\t}\r\n\t,onMouseLeave:function(e) {\r\n\t\tthis.props.action(\"leave\",this.props.mid);\r\n\t}\r\n\t,onClick:function(e) {\r\n\t\tvar act=this.props.activated?\"deactivate\":\"activate_edit\";\r\n\t\tthis.props.action(act,this.props.mid);\r\n\t}\r\n\t,onMouseEnter:function(e) {\r\n\t\tthis.props.action(\"enter\",this.props.mid);\r\n\t}\r\n\t,render:function(){\r\n\t\treturn E(\"span\",{style:this.props.activated?this.activatedStyle:authorButtonStyle,\r\n\t\t\tonMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:this.onClick},\r\n\t\t\tthis.props.children);\r\n\t}\r\n});\r\n\r\n\r\nvar Revision=React.createClass({\r\n\tdisplayName:\"Revision\"\r\n\t,mixins:[PureRenderMixin]\r\n\t,style:{display:\"none\"}\r\n\t,propTypes:{\r\n\t\tmarkup:PT.object.isRequired\r\n\t\t,mid:PT.string.isRequired\r\n\t\t,context:PT.object.isRequired\r\n\t\t,activated:PT.bool\r\n\t\t,showSuper:PT.bool\r\n\t}\r\n\t,renderAuthor:function() {\r\n\t\tif (this.props.showSuper) {\r\n\t\t\treturn E(AuthorButton,\r\n\t\t\t\t{action:this.props.context.action,mid:this.props.mid\r\n\t\t\t\t,activated:this.props.activated,editable:this.props.editable||false},\r\n\t\t\t\tthis.props.markup.username||this.props.markup.author)\r\n\t\t};\r\n\t}\r\n\t,renderNote:function() {\r\n\t\tif(this.props.hovering) {\r\n\t\t\treturn E(RevisionNote,\r\n\t\t\t\t{editing:false,action:this.props.context.action,note:this.props.markup.note,\r\n\t\t\t\t mid:this.props.mid},\r\n\t\t\t\tthis.props.markup.note);\r\n\t\t};\r\n\t}\r\n\t,getNewTextStyle:function() {\r\n\t\tvar style={display:\"none\"};\r\n\t\tif (this.props.hovering) style={borderBottom:\"solid 0.1em green\",display:\"inline\"};\r\n\t\telse if (this.props.activated) style={display:\"inline\"};\r\n\t\treturn style;\r\n\t}\r\n\t,render:function() {\r\n\t\tif (this.props.context.editing===this.props.mid) {\r\n\t\t\treturn E(RevisionEditMode,this.props);\r\n\t\t} else {\r\n\t\t return E(IL.Container,{}\r\n\t\t\t,E(IL.Super, {}, this.renderAuthor() )\r\n\t\t\t,E(IL.Embed, {style:this.getNewTextStyle() }, this.props.markup.t)\r\n\t\t\t,E(IL.Sub  , {}, this.renderNote() )\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n});\r\nvar linethroughstyle={background:\"url(\"+redlinethrough+\") repeat center\"};\r\n//var linethroughstyle={textDecoration:\"line-through\"};\r\nvar getOldTextStyle=function(markup,mid,context) {\r\n\tvar style={};\r\n\tif (context.hovering===mid) style=linethroughstyle;\r\n\telse if (context.editing===mid) style=linethroughstyle;\r\n\telse if (context.markupActivated[mid]) style={display:\"none\"};\r\n\tif (markup.l==0) style={};\r\n\treturn style;\r\n}\r\nmodule.exports={Component:Revision, getStyle:getOldTextStyle } ;",
    "try {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\nvar textareaStyle={top:\"0.6em\",lineHeight:\"100%\",fontSize:\"75%\",position:\"absolute\",outline:\"none\",borderRadius:\"5px\"};\r\nvar staticStyle={fontSize:\"75%\",cursor:\"pointer\"};\r\nvar RevisionNote=React.createClass({\r\n\tdisplayName:\"RevisionNote\"\r\n\t,mixins:[PureRenderMixin]\r\n\t,propTypes:{\r\n\t\taction:PT.func.isRequired\r\n\t\t,mid:PT.string.isRequired\r\n\t\t,editing:PT.bool.isRequired\r\n\t\t,note:PT.string.isRequired\r\n\t}\r\n\t,onBlur:function(){\r\n\t\tthis.props.action(\"setNote\",this.refs.note.getDOMNode().value);\r\n\t\tthis.props.action(\"leaveNote\");\r\n\t}\r\n\t,componentDidUpdate:function() {\r\n\t\tif (!this.props.editing) return;\r\n\t\tvar that=this;\r\n\t\tsetTimeout(function(){\r\n\t\t\t\tthat.refs.note.getDOMNode().focus();\r\n\t\t},200);\r\n\t}\r\n\t,onClick:function() {\r\n\t\tthis.props.action(\"editNote\");\r\n\t}\r\n\t,render:function(){\r\n\r\n\t\tif (this.props.editing) {\r\n\t\t\treturn E(\"textarea\",\r\n\t\t\t\t{rows:4,cols:20,ref:\"note\",onBlur:this.onBlur,style:textareaStyle,\r\n\t\t\t\tdefaultValue:this.props.note}\r\n\t\t\t);\r\n\t\t} else{\r\n\t\t\treturn E(\"span\",{style:staticStyle,onClick:this.onClick},this.props.note||\"...\");\t\r\n\t\t}\r\n\t}\r\n});\r\n\r\nmodule.exports=RevisionNote;",
    "var redline=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABAAgMAAADXB5lNAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEUAAADtHCT///+jR4VkAAAAAXRSTlMAQObYZgAAAAFiS0dEAmYLfGQAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAXSURBVDjLY2AYBcMWhKIBqgiMglGAAAAfDRqRFmX93gAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNS0wNS0yMFQwNzo1NTo0OCswMjowMCznXDoAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTUtMDUtMjBUMDc6NTU6NDgrMDI6MDBduuSGAAAAAElFTkSuQmCC\";\r\n//var messy=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAKJSURBVGhD1ZhBbtwwDEWdK3Td7Nr7H6jLrpsrTAV8g6OhSJqkKI/yFkWKSvR7jAdB+vF4PI7vzHYBX5+/z6+O48ffP+dXOlsE9NI9+wZoxoRHHdwXcCkN/OpgbYBTGkTVwZIA+51m/5rzJsoCbGlQqw4KAkR1JrdCHSQDPNKN8VihOvAGiMbEW9SBFRCVBuxWwlt8rjaHBxjStsrMyu1NEeLAl4CcROLWpTFNoJPazLUf4h5berzbnzcmxwI0CfEBUeMep33DGzDalEsTNMRz/iLA421IO42JfpTzrhwgOvUTC6UBG+gfwgNGM5pVLg3S6uAM0LwXSYNJdVz/+PfzF/7uYV4a5NTFbV4HVEmDqLooTbTrPKBWtyekrnmPt86Add4Nv7rorZ3HYe8Pshwz6vZO6fySAL9N1LvRX2mHiwNCQuzwpXqD2bc/ywJCNqOHjTG8ICC6yJA9G95gV6YCouoNuhJV185nAi63ouG0D+0lFpBWb3jsQ+ogENBP93sD235mL9cBia0wDPsZdWAFzE8HmMPuzu8FqAH9A9LTQR9QtRRCCChUB6M0KBnOA8rtGyygaix4Bnw7dXAG1Nozb2JVAD1vhTpm1i6o5xkwM1fz7hnPpOmX8vydOBfgUWcUljTyvxMzj1z/CMa2ac7Ol/+VcEoUqoe+G2LVy4f4Hi63q22kv0Vn5J8Dd+L8BpIeO/8M0BC770fTsAI2USfEd0QNcNqLQyexl8WeKAfQIZq1QnQGEhMCoq7lb5dTAM/lAcblctEEvZ4rYAdpoImpH+J9sHe6b8D4Mouvw44BTnWwV0DiE7hFQGjljHcGjN4Nvzp4T8DMyhl3ByTecptbA8R3xomcehz/AYPHXX9v/QOyAAAAAElFTkSuQmCC\";\r\n//var mesh=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAAKCAIAAAARhxgeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAAVSURBVBhXYwCC////gzEEkM5jYAAAFmgd41TlhHAAAAAASUVORK5CYII=\";\r\nmodule.exports=redline;",
    "/*\r\n\tSelect text by mouse or keyboard\r\n*/\r\ntry {\r\n\tvar React=require(\"react-native\");\r\n\tvar PureRenderMixin=null;\r\n} catch(e) {\r\n\tvar React=require(\"react/addons\");\r\n\tvar PureRenderMixin=React.addons.PureRenderMixin;\r\n}\r\nvar update=React.addons.update, E=React.createElement, PT=React.PropTypes;\r\n\r\nvar selectedTextStyle={\"backgroundColor\":\"highlight\",color:\"black\"};\r\n\r\nvar KeyboardMixin=require(\"./keyboard_mixin\");\r\nvar selection=require(\"./selection\");\r\nvar FlattenView=require(\"./flattenview\");\r\nvar textrange=require(\"./textrange\");\r\nvar selection=require(\"./selection\");\r\nvar SelectableView=React.createClass({\r\n\tmixins:[PureRenderMixin,KeyboardMixin]\r\n\t,propTypes:{\r\n\t\tselectable: PT.oneOf(['no', 'single', 'multiple'])\r\n\t\t,showCaret:PT.bool\r\n\t\t,onSelectText: PT.func\r\n\t\t,tags:PT.array\r\n\t\t,selections:PT.array\r\n\t\t,allowKeys:PT.array\r\n\t}\r\n\t,updateSelection:function() {\r\n\t\tvar seltags=this.tagFromSel(this.state.tags,this.ranges.get());\r\n\t\tthis.setState({tags:seltags});\t\t\r\n\t}\r\n\t,componentWillMount:function() {\r\n\t\tthis.ranges=textrange.create();\r\n\t\tif (this.props.selections && this.props.selections.length) {\r\n\t\t\tthis.ranges.set(this.props.selections);\r\n\t\t\tthis.updateSelection();\r\n\t\t}\r\n\t}\r\n\t,getInitialState:function(){\r\n\t\tvar allowkeys=KeyboardMixin.arrowkeys;\r\n\t\tif (this.props.allowKeys) allowkeys=update(allowkeys,{$push:this.props.allowKeys});\r\n\t\treturn {allowkeys:allowkeys,tags:this.props.tags};\r\n\t}\r\n\t,getDefaultProps:function(){\r\n\t\treturn {showCaret:true,selectable:\"multiple\",tags:[]};\r\n\t}\r\n\t,componentWillReceiveProps:function(nextProps) {\r\n\t\tvar seltags=nextProps.tags;\r\n\t\tif (this.props.selectable!==\"no\") {\r\n\t\t\tseltags=this.tagFromSel(seltags,this.ranges.get());\t\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState({tags:seltags});\r\n\t}\r\n\t,componentDidMount:function() {\r\n\t\t//turn contentEditable on for caret, cannot set in render as React will give warning\r\n\t\tif (this.props.showCaret) this.getDOMNode().contentEditable=true;\r\n\t}\r\n\t,tagFromSel:function(tags,sels) {\r\n\t\ttags=tags.filter(function(m){ return m.type!==\"_selected_\";});\r\n\t\tsels.map(function(sel){\r\n\t\t\tif (sel[1]>0) tags.push({s:sel[0],l:sel[1],type:\"_selected_\",style:selectedTextStyle});\r\n\t\t});\r\n\t\treturn tags;\r\n\t}\r\n\t,markSelection:function(start,len,selectedtext,params){\r\n\t\tvar selectable=this.props.selectable;\r\n\t\tif (selectable===\"no\") return;\r\n\t\tif(this.props.onSelectText){\r\n\t\t\tif (this.ranges.find(start,len)===-1) {//newly added selected\r\n\t\t\t\tvar cancel=this.props.onSelectText(start,len,selectedtext,params,this.ranges.get());\r\n\t\t\t\tif (cancel) return;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (params.ctrlKey&&selectable===\"multiple\") {\r\n\t\t\tthis.ranges.add(start,len,selectedtext)\t\r\n\t\t} else {\r\n\t\t\tthis.ranges.set([[start,len,selectedtext]]);\t\r\n\t\t}\r\n\t\tthis.updateSelection();\r\n\t}\r\n\t,onMouseUp:function(e) {\r\n\t\tif (e.target.nodeName!=\"SPAN\") return;\r\n\t\tvar sel=selection.get(this.getDOMNode());\r\n\t\tif (!sel || isNaN(sel.start))return;\r\n\r\n\t\tif (sel.len) sel.selection.empty();\r\n\t\tvar text=this.props.text.substr(sel.start,sel.len||1);\r\n\t\tif (text.charCodeAt(0)>=0xD800 ) { //surrogate\r\n\t\t\ttext=this.props.text.substr(sel.start,sel.len||2);\r\n\t\t}\r\n\r\n\t\tvar cancel=sel&&this.markSelection(sel.start,sel.len,text,\r\n\t\t\t{ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,sender:this.props.id});\r\n\t\tif (!cancel) this.selection=sel;\r\n\t}\r\n\t,onFocus:function(e){\r\n\t}\r\n\t,onBlur:function(e){\r\n\t}\t\r\n\t,render:function(){\r\n\t\tvar props=update(this.props,{$merge:{\r\n\t\t\tonMouseUp:this.onMouseUp\r\n\t\t\t,onKeyDown:this.props.onKeyDown||this.onkeydown\r\n\t\t\t,onKeyUp:this.props.onKeyUp||this.onkeyup\r\n\t\t\t,onKeyPress:this.props.onKeyPress||this.onkeypress\r\n\t\t\t,onFocus:this.props.onFocus||this.onFocus\r\n\t\t\t,onBlur:this.props.onBlur||this.onBlur\t\t\t\r\n\t\t\t,tags:this.state.tags\r\n\t\t}});\r\n\t\t\r\n\t\treturn E(FlattenView,props);\r\n\t}\r\n});\r\nmodule.exports=SelectableView;",
    "/**\r\n    Return text position at system caret \r\n    @param {object} DOM node holding the text\r\n    @param {object} baseNode or extendNode node return by system getSelection\r\n    @param {number} offset from the selected node\r\n*/\r\nvar getPos=function(rootele,node,off){\r\n    if (!node) return;\r\n    while (node && node.parentElement!==rootele) node=node.parentElement;\r\n    while (node && !node.dataset.start) node=node.nextSibling;\r\n    if (!node) return -1;\r\n\r\n    var pos=parseInt(node.dataset.start)+off;\r\n    return pos;\r\n}\r\n/**\r\n    Return the span and offset containing the pos (return by getPos)\r\n    @param {array} spans\r\n    @param {number} text position\r\n*/\r\nvar posInSpan=function(children,pos) {\r\n    var lasti;\r\n\tfor (var i=0;i<children.length;i++) {\r\n        if (!children[i].dataset.start)continue;\r\n\t\tvar spanstart=parseInt(children[i].dataset.start);\r\n\t\tif (spanstart>pos) {\r\n\t\t\tlaststart=parseInt(children[lasti].dataset.start);\r\n\t\t\treturn {idx:i-1,element:children[lasti], offset:pos-laststart};\r\n\t\t}\r\n        lasti=i;\r\n\t}\r\n\tlaststart=parseInt(children[children.length-1].dataset.start);\r\n\treturn {idx:children.length-1,element:children[children.length-1], offset:pos-laststart };\r\n}\r\n/**\r\n    Set Caret to a saved selection\r\n*/\r\nvar restore=function(domnode,oldsel) {\r\n    if (!oldsel) return;\r\n\tvar span=posInSpan(domnode.childNodes,oldsel.start+oldsel.len)\r\n    if (!span) return;\r\n    if (!span.element.childNodes[0])return;\r\n\r\n    var range = document.createRange();\r\n    if (span.element.nodeType!==3 && span.element.childNodes[0].nodeType===3) {\r\n    \tspan.element=span.element.childNodes[0];\r\n    }\r\n    if (span.offset>span.element.length) {\r\n        range.setStart(span.element, 0);\r\n        range.setEnd( span.element, 0);\r\n    } else {\r\n        range.setStart(span.element ,span.offset);\r\n        range.setEnd( span.element,span.offset);        \r\n    }\r\n    var sel = window.getSelection();\r\n    sel.removeAllRanges();\r\n    sel.addRange(range);\r\n}\r\n/**\r\n    Get the start and len of current selection\r\n    @param {object} root domnode holding the text\r\n*/\r\nvar get=function(rootele) {\r\n    var sel=window.getSelection();\r\n    if (!sel.baseNode) return;\r\n    var off=getPos(rootele,sel.baseNode,sel.baseOffset);\r\n    var off2=getPos(rootele,sel.extentNode,sel.extentOffset);\r\n    var p1=sel.baseNode.parentElement,p2=sel.extentNode.parentElement;\r\n    if (p1.nodeName!=\"SPAN\"||p2.nodeName!=\"SPAN\") return;\r\n\r\n    //if (sel.extentNode && off2>off) {\r\n    //\tsel.empty();\r\n\t//}\r\n\treturn {start:off,len:off2-off, selection:sel};\r\n}\r\n\r\nmodule.exports={get:get,restore:restore};",
    "/**\r\n\tCombining multiple range\r\n*/\r\nvar create=function() {\r\n\tvar textrange={};\r\n\tvar _ranges=[];\r\n\r\n\tvar removeOverlap=function(start,len) {\r\n\t\tvar overlap=[];\r\n\t\t_ranges=_ranges.filter(function(r){\r\n\t\t\tif (r[0]>start+len || r[0]+r[1]<start) return true;\r\n\t\t\telse {\r\n\t\t\t\toverlap.push(r);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn overlap;\r\n\t}\r\n\tvar combine=function(ranges) {\r\n\t\tvar start=Number.MAX_VALUE,end=0;\r\n\t\tvar text=[];\r\n\t\tfor (var i=0;i<ranges.length;i++) {\r\n\t\t\tvar r=ranges[i];\r\n\r\n\t\t\tfor (var j=r[0];j<r[0]+r[1];j++) {\r\n\t\t\t\tif (!text[j]) text[j]=r[2][j-r[0]]||\"\";\r\n\t\t\t}\r\n\t\t\tif (r[0]<start) start=r[0];\r\n\t\t\tif (r[0]+r[1]>end) end=r[0]+r[1];\r\n\t\t}\r\n\t\tvar t=\"\";\r\n\t\tfor (var i=start;i<end;i++) t+=text[i];\r\n\t\treturn [start,end-start,t];\r\n\t}\r\n\r\n\tvar find=function(start,length) {\r\n\t\tfor (var i=0;i<_ranges.length;i++) {\r\n\t\t\tvar r=_ranges[i];\r\n\t\t\tif (r[0]===start && r[1]===length)return i;\r\n\t\t}\r\n\t\treturn -1;\r\n\t}\r\n\tvar add=function(start,len,text) {\r\n\t\tvar text=text||\"\";\r\n\r\n\t\tvar same=find(start,len);\r\n\t\tif (same>-1) {\r\n\t\t\t_ranges.splice(same,1);\r\n\t\t\treturn ;\r\n\t\t}\r\n\t\t\r\n\t\tvar overlap=removeOverlap(start,len);\r\n\r\n\t\tif (overlap.length) {\r\n\t\t\toverlap.push([start,len,text]);\r\n\t\t\tvar combined=combine(overlap);\r\n\t\t\t_ranges.push( combined );\r\n\t\t} else {\r\n\t\t\t_ranges.push([start,len,text]);\t\r\n\t\t}\r\n\t\t_ranges.sort(function(s1,s2){ //sort by start and len\r\n\t\t\treturn (s1[0]==s2[0])?(s1[1]-s2[1]):(s1[0]-s2[0]);\r\n\t\t});\r\n\t}\r\n\tvar get=function() {\r\n\t\treturn _ranges;\r\n\t}\r\n\tvar remove=function() {\r\n\t\t_ranges=[];\r\n\t}\r\n\tvar set=function(ranges) {\r\n\t\tremove();\r\n\t\tfor (var i=0;i<ranges.length;i++) {\r\n\t\t\tvar r=ranges[i];\r\n\t\t\tadd(r[0],r[1],r[2]);\r\n\t\t}\r\n\t}\r\n\ttextrange.add=add;\r\n\ttextrange.get=get;\r\n\ttextrange.remove=remove;\r\n\ttextrange.set=set;\r\n\ttextrange.find=find;\r\n\r\n\treturn textrange;\r\n}\r\nvar markupInRange=function(markups,ranges) {\r\n\tif (!ranges || !ranges.length) return [];\r\n\tif (typeof ranges[0]===\"number\") ranges=[ranges];\r\n\tif (ranges.length==0) return [];\r\n\tvar out=[];\r\n\tfor (var j=0;j<markups.length;j++) {\r\n\t\tvar m=markups[j];\r\n\t\tfor (var i=0;i<ranges.length;i++) {\r\n\t\t\tvar r=ranges[i];\r\n\t\t\tif (m.s>=r[0] && m.s+m.l<=r[0]+r[1] && out.indexOf(m)===-1) {\r\n\t\t\t\tout.push(m);\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\treturn out;\r\n}\r\nmodule.exports={create:create, markupInRange:markupInRange };",
    "var revision=require(\"./revision\");\r\nmodule.exports={\"rev\":revision};",
    "\r\nvar userCancel=false;\r\nvar files=[];\r\nvar totalDownloadByte=0;\r\nvar targetPath=\"\";\r\nvar tempPath=\"\";\r\nvar nfile=0;\r\nvar baseurl=\"\";\r\nvar result=\"\";\r\nvar downloading=false;\r\nvar startDownload=function(dbid,_baseurl,_files) { //return download id\r\n\tvar fs     = require(\"fs\");\r\n\tvar path   = require(\"path\");\r\n\r\n\t\r\n\tfiles=_files.split(\"\\uffff\");\r\n\tif (downloading) return false; //only one session\r\n\tuserCancel=false;\r\n\ttotalDownloadByte=0;\r\n\tnextFile();\r\n\tdownloading=true;\r\n\tbaseurl=_baseurl;\r\n\tif (baseurl[baseurl.length-1]!='/')baseurl+='/';\r\n\ttargetPath=ksanagap.rootPath+dbid+'/';\r\n\ttempPath=ksanagap.rootPath+\".tmp/\";\r\n\tresult=\"\";\r\n\treturn true;\r\n}\r\n\r\nvar nextFile=function() {\r\n\tsetTimeout(function(){\r\n\t\tif (nfile==files.length) {\r\n\t\t\tnfile++;\r\n\t\t\tendDownload();\r\n\t\t} else {\r\n\t\t\tdownloadFile(nfile++);\t\r\n\t\t}\r\n\t},100);\r\n}\r\n\r\nvar downloadFile=function(nfile) {\r\n\tvar url=baseurl+files[nfile];\r\n\tvar tmpfilename=tempPath+files[nfile];\r\n\tvar mkdirp = require(\"./mkdirp\");\r\n\tvar fs     = require(\"fs\");\r\n\tvar http   = require(\"http\");\r\n\r\n\tmkdirp.sync(path.dirname(tmpfilename));\r\n\tvar writeStream = fs.createWriteStream(tmpfilename);\r\n\tvar datalength=0;\r\n\tvar request = http.get(url, function(response) {\r\n\t\tresponse.on('data',function(chunk){\r\n\t\t\twriteStream.write(chunk);\r\n\t\t\ttotalDownloadByte+=chunk.length;\r\n\t\t\tif (userCancel) {\r\n\t\t\t\twriteStream.end();\r\n\t\t\t\tsetTimeout(function(){nextFile();},100);\r\n\t\t\t}\r\n\t\t});\r\n\t\tresponse.on(\"end\",function() {\r\n\t\t\twriteStream.end();\r\n\t\t\tsetTimeout(function(){nextFile();},100);\r\n\t\t});\r\n\t});\r\n}\r\n\r\nvar cancelDownload=function() {\r\n\tuserCancel=true;\r\n\tendDownload();\r\n}\r\nvar verify=function() {\r\n\treturn true;\r\n}\r\nvar endDownload=function() {\r\n\tnfile=files.length+1;//stop\r\n\tresult=\"cancelled\";\r\n\tdownloading=false;\r\n\tif (userCancel) return;\r\n\tvar fs     = require(\"fs\");\r\n\tvar mkdirp = require(\"./mkdirp\");\r\n\r\n\tfor (var i=0;i<files.length;i++) {\r\n\t\tvar targetfilename=targetPath+files[i];\r\n\t\tvar tmpfilename   =tempPath+files[i];\r\n\t\tmkdirp.sync(path.dirname(targetfilename));\r\n\t\tfs.renameSync(tmpfilename,targetfilename);\r\n\t}\r\n\tif (verify()) {\r\n\t\tresult=\"success\";\r\n\t} else {\r\n\t\tresult=\"error\";\r\n\t}\r\n}\r\n\r\nvar downloadedByte=function() {\r\n\treturn totalDownloadByte;\r\n}\r\nvar doneDownload=function() {\r\n\tif (nfile>files.length) return result;\r\n\telse return \"\";\r\n}\r\nvar downloadingFile=function() {\r\n\treturn nfile-1;\r\n}\r\n\r\nvar downloader={startDownload:startDownload, downloadedByte:downloadedByte,\r\n\tdownloadingFile:downloadingFile, cancelDownload:cancelDownload,doneDownload:doneDownload};\r\nmodule.exports=downloader;",
    "/* emulate filesystem on html5 browser */\r\nvar get_head=function(url,field,cb){\r\n\tvar xhr = new XMLHttpRequest();\r\n\txhr.open(\"HEAD\", url, true);\r\n\txhr.onreadystatechange = function() {\r\n\t\t\tif (this.readyState == this.DONE) {\r\n\t\t\t\tcb(xhr.getResponseHeader(field));\r\n\t\t\t} else {\r\n\t\t\t\tif (this.status!==200&&this.status!==206) {\r\n\t\t\t\t\tcb(\"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t};\r\n\txhr.send();\r\n}\r\nvar get_date=function(url,cb) {\r\n\tget_head(url,\"Last-Modified\",function(value){\r\n\t\tcb(value);\r\n\t});\r\n}\r\nvar get_size=function(url, cb) {\r\n\tget_head(url,\"Content-Length\",function(value){\r\n\t\tcb(parseInt(value));\r\n\t});\r\n};\r\nvar checkUpdate=function(url,fn,cb) {\r\n\tif (!url) {\r\n\t\tcb(false);\r\n\t\treturn;\r\n\t}\r\n\tget_date(url,function(d){\r\n\t\tAPI.fs.root.getFile(fn, {create: false, exclusive: false}, function(fileEntry) {\r\n\t\t\tfileEntry.getMetadata(function(metadata){\r\n\t\t\t\tvar localDate=Date.parse(metadata.modificationTime);\r\n\t\t\t\tvar urlDate=Date.parse(d);\r\n\t\t\t\tcb(urlDate>localDate);\r\n\t\t\t});\r\n\t\t},function(){\r\n\t\t\tcb(false);\r\n\t\t});\r\n\t});\r\n}\r\nvar download=function(url,fn,cb,statuscb,context) {\r\n\t var totalsize=0,batches=null,written=0;\r\n\t var fileEntry=0, fileWriter=0;\r\n\t var createBatches=function(size) {\r\n\t\tvar bytes=1024*1024, out=[];\r\n\t\tvar b=Math.floor(size / bytes);\r\n\t\tvar last=size %bytes;\r\n\t\tfor (var i=0;i<=b;i++) {\r\n\t\t\tout.push(i*bytes);\r\n\t\t}\r\n\t\tout.push(b*bytes+last);\r\n\t\treturn out;\r\n\t }\r\n\t var finish=function() {\r\n\t\t rm(fn,function(){\r\n\t\t\t\tfileEntry.moveTo(fileEntry.filesystem.root, fn,function(){\r\n\t\t\t\t\tsetTimeout( cb.bind(context,false) , 0) ;\r\n\t\t\t\t},function(e){\r\n\t\t\t\t\tconsole.log(\"failed\",e)\r\n\t\t\t\t});\r\n\t\t },this);\r\n\t };\r\n\t\tvar tempfn=\"temp.kdb\";\r\n\t\tvar batch=function(b) {\r\n\t\tvar abort=false;\r\n\t\tvar xhr = new XMLHttpRequest();\r\n\t\tvar requesturl=url+\"?\"+Math.random();\r\n\t\txhr.open('get', requesturl, true);\r\n\t\txhr.setRequestHeader('Range', 'bytes='+batches[b]+'-'+(batches[b+1]-1));\r\n\t\txhr.responseType = 'blob';\r\n\t\txhr.addEventListener('load', function() {\r\n\t\t\tvar blob=this.response;\r\n\t\t\tfileEntry.createWriter(function(fileWriter) {\r\n\t\t\t\tfileWriter.seek(fileWriter.length);\r\n\t\t\t\tfileWriter.write(blob);\r\n\t\t\t\twritten+=blob.size;\r\n\t\t\t\tfileWriter.onwriteend = function(e) {\r\n\t\t\t\t\tif (statuscb) {\r\n\t\t\t\t\t\tabort=statuscb.apply(context,[ fileWriter.length / totalsize,totalsize ]);\r\n\t\t\t\t\t\tif (abort) setTimeout( cb.bind(context,false) , 0) ;\r\n\t\t\t\t \t}\r\n\t\t\t\t\tb++;\r\n\t\t\t\t\tif (!abort) {\r\n\t\t\t\t\t\tif (b<batches.length-1) setTimeout(batch.bind(context,b),0);\r\n\t\t\t\t\t\telse                    finish();\r\n\t\t\t\t \t}\r\n\t\t\t \t};\r\n\t\t\t}, console.error);\r\n\t\t},false);\r\n\t\txhr.send();\r\n\t}\r\n\r\n\tget_size(url,function(size){\r\n\t\ttotalsize=size;\r\n\t\tif (!size) {\r\n\t\t\tif (cb) cb.apply(context,[false]);\r\n\t\t} else {//ready to download\r\n\t\t\trm(tempfn,function(){\r\n\t\t\t\t batches=createBatches(size);\r\n\t\t\t\t if (statuscb) statuscb.apply(context,[ 0, totalsize ]);\r\n\t\t\t\t API.fs.root.getFile(tempfn, {create: 1, exclusive: false}, function(_fileEntry) {\r\n\t\t\t\t\t\t\tfileEntry=_fileEntry;\r\n\t\t\t\t\t\tbatch(0);\r\n\t\t\t\t });\r\n\t\t\t},this);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nvar readFile=function(filename,cb,context) {\r\n\tAPI.fs.root.getFile(filename, {create: false, exclusive: false},function(fileEntry) {\r\n\t\tfileEntry.file(function(file){\r\n\t\t\tvar reader = new FileReader();\r\n\t\t\treader.onloadend = function(e) {\r\n\t\t\t\tif (cb) cb.call(cb,this.result);\r\n\t\t\t};\r\n\t\t\treader.readAsText(file,\"utf8\");\r\n\t\t});\r\n\t}, console.error);\r\n}\r\n\r\nfunction createDir(rootDirEntry, folders,  cb) {\r\n  // Throw out './' or '/' and move on to prevent something like '/foo/.//bar'.\r\n  if (folders[0] == '.' || folders[0] == '') {\r\n    folders = folders.slice(1);\r\n  }\r\n  rootDirEntry.getDirectory(folders[0], {create: true}, function(dirEntry) {\r\n    // Recursively add the new subfolder (if we still have another to create).\r\n    if (folders.length) {\r\n      createDir(dirEntry, folders.slice(1),cb);\r\n    } else {\r\n\t\t\tcb();\r\n\t\t}\r\n  }, cb);\r\n};\r\n\r\n\r\nvar writeFile=function(filename,buf,cb,context){\r\n\tvar write=function(fileEntry){\r\n\t\tfileEntry.createWriter(function(fileWriter) {\r\n\t\t\tfileWriter.write(buf);\r\n\t\t\tfileWriter.onwriteend = function(e) {\r\n\t\t\t\tif (cb) cb.apply(cb,[buf.byteLength]);\r\n\t\t\t};\r\n\t\t}, console.error);\r\n\t}\r\n\r\n\tvar getFile=function(filename){\r\n\t\tAPI.fs.root.getFile(filename, {exclusive:true}, function(fileEntry) {\r\n\t\t\twrite(fileEntry);\r\n\t\t}, function(){\r\n\t\t\t\tAPI.fs.root.getFile(filename, {create:true,exclusive:true}, function(fileEntry) {\r\n\t\t\t\t\twrite(fileEntry);\r\n\t\t\t\t});\r\n\r\n\t\t});\r\n\t}\r\n\tvar slash=filename.lastIndexOf(\"/\");\r\n\tif (slash>-1) {\r\n\t\tcreateDir(API.fs.root, filename.substr(0,slash).split(\"/\"),function(){\r\n\t\t\tgetFile(filename);\r\n\t\t});\r\n\t} else {\r\n\t\tgetFile(filename);\r\n\t}\r\n}\r\n\r\nvar readdir=function(cb,context) {\r\n\tvar dirReader = API.fs.root.createReader();\r\n\tvar out=[],that=this;\r\n\tdirReader.readEntries(function(entries) {\r\n\t\tif (entries.length) {\r\n\t\t\tfor (var i = 0, entry; entry = entries[i]; ++i) {\r\n\t\t\t\tif (entry.isFile) {\r\n\t\t\t\t\tout.push([entry.name,entry.toURL ? entry.toURL() : entry.toURI()]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tAPI.files=out;\r\n\t\tif (cb) cb.apply(context,[out]);\r\n\t}, function(){\r\n\t\tif (cb) cb.apply(context,[null]);\r\n\t});\r\n}\r\nvar getFileURL=function(filename) {\r\n\tif (!API.files ) return null;\r\n\tvar file= API.files.filter(function(f){return f[0]==filename});\r\n\tif (file.length) return file[0][1];\r\n}\r\nvar rm=function(filename,cb,context) {\r\n\tvar url=getFileURL(filename);\r\n\tif (url) rmURL(url,cb,context);\r\n\telse if (cb) cb.apply(context,[false]);\r\n}\r\n\r\nvar rmURL=function(filename,cb,context) {\r\n\twebkitResolveLocalFileSystemURL(filename, function(fileEntry) {\r\n\t\tfileEntry.remove(function() {\r\n\t\t\tif (cb) cb.apply(context,[true]);\r\n\t\t}, console.error);\r\n\t},  function(e){\r\n\t\tif (cb) cb.apply(context,[false]);//no such file\r\n\t});\r\n}\r\nfunction errorHandler(e) {\r\n\tconsole.error('Error: ' +e.name+ \" \"+e.message);\r\n}\r\nvar initfs=function(grantedBytes,cb,context) {\r\n\twebkitRequestFileSystem(PERSISTENT, grantedBytes,  function(fs) {\r\n\t\tAPI.fs=fs;\r\n\t\tAPI.quota=grantedBytes;\r\n\t\treaddir(function(){\r\n\t\t\tAPI.initialized=true;\r\n\t\t\tcb.apply(context,[grantedBytes,fs]);\r\n\t\t},context);\r\n\t}, errorHandler);\r\n}\r\nvar init=function(quota,cb,context) {\r\n\tnavigator.webkitPersistentStorage.requestQuota(quota,\r\n\t\t\tfunction(grantedBytes) {\r\n\t\t\t\tinitfs(grantedBytes,cb,context);\r\n\t\t}, errorHandler\r\n\t);\r\n}\r\nvar queryQuota=function(cb,context) {\r\n\tvar that=this;\r\n\tnavigator.webkitPersistentStorage.queryUsageAndQuota(\r\n\t function(usage,quota){\r\n\t\t\tinitfs(quota,function(){\r\n\t\t\t\tcb.apply(context,[usage,quota]);\r\n\t\t\t},context);\r\n\t});\r\n}\r\nvar API={\r\n\tinit:init\r\n\t,readdir:readdir\r\n\t,checkUpdate:checkUpdate\r\n\t,rm:rm\r\n\t,rmURL:rmURL\r\n\t,getFileURL:getFileURL\r\n\t,writeFile:writeFile\r\n\t,readFile:readFile\r\n\t,download:download\r\n\t,get_head:get_head\r\n\t,get_date:get_date\r\n\t,get_size:get_size\r\n\t,getDownloadSize:get_size\r\n\t,queryQuota:queryQuota\r\n}\r\nmodule.exports=API;\r\n",
    "var appname=\"installer\";\r\nif (typeof ksana==\"undefined\") {\r\n\twindow.ksana={platform:\"chrome\"};\r\n\tif (typeof process!==\"undefined\" && \r\n\t\tprocess.versions && process.versions[\"node-webkit\"]) {\r\n\t\twindow.ksana.platform=\"node-webkit\";\r\n\t}\r\n}\r\nvar switchApp=function(path) {\r\n\tvar fs=require(\"fs\");\r\n\tpath=\"../\"+path;\r\n\tappname=path;\r\n\tdocument.location.href= path+\"/index.html\"; \r\n\tprocess.chdir(path);\r\n}\r\nvar downloader={};\r\nvar rootPath=\"\";\r\n\r\nvar deleteApp=function(app) {\r\n\tconsole.error(\"not allow on PC, do it in File Explorer/ Finder\");\r\n}\r\nvar username=function() {\r\n\treturn \"\";\r\n}\r\nvar useremail=function() {\r\n\treturn \"\"\r\n}\r\nvar runtime_version=function() {\r\n\treturn \"1.4\";\r\n}\r\n\r\n//copy from liveupdate\r\nvar jsonp=function(url,dbid,callback,context) {\r\n  var script=document.getElementById(\"jsonp2\");\r\n  if (script) {\r\n    script.parentNode.removeChild(script);\r\n  }\r\n  window.jsonp_handler=function(data) {\r\n    if (typeof data==\"object\") {\r\n      data.dbid=dbid;\r\n      callback.apply(context,[data]);    \r\n    }  \r\n  }\r\n  window.jsonp_error_handler=function() {\r\n    console.error(\"url unreachable\",url);\r\n    callback.apply(context,[null]);\r\n  }\r\n  script=document.createElement('script');\r\n  script.setAttribute('id', \"jsonp2\");\r\n  script.setAttribute('onerror', \"jsonp_error_handler()\");\r\n  url=url+'?'+(new Date().getTime());\r\n  script.setAttribute('src', url);\r\n  document.getElementsByTagName('head')[0].appendChild(script); \r\n}\r\n\r\n\r\nvar loadKsanajs=function(){\r\n\r\n\tif (typeof process!=\"undefined\" && !process.browser) {\r\n\t\tvar ksanajs=require(\"fs\").readFileSync(\"./ksana.js\",\"utf8\").trim();\r\n\t\tdownloader=require(\"./downloader\");\r\n\t\tksana.js=JSON.parse(ksanajs.substring(14,ksanajs.length-1));\r\n\t\trootPath=process.cwd();\r\n\t\trootPath=require(\"path\").resolve(rootPath,\"..\").replace(/\\\\/g,\"/\")+'/';\r\n\t\tksana.ready=true;\r\n\t} else{\r\n\t\tvar url=window.location.origin+window.location.pathname.replace(\"index.html\",\"\")+\"ksana.js\";\r\n\t\tjsonp(url,appname,function(data){\r\n\t\t\tksana.js=data;\r\n\t\t\tksana.ready=true;\r\n\t\t});\r\n\t}\r\n}\r\n\r\nloadKsanajs();\r\n\r\nvar boot=function(appId,cb) {\r\n\tif (typeof appId==\"function\") {\r\n\t\tcb=appId;\r\n\t\tappId=\"unknownapp\";\r\n\t}\r\n\tif (!ksana.js && ksana.platform==\"node-webkit\") {\r\n\t\tloadKsanajs();\r\n\t}\r\n\tksana.appId=appId;\r\n\tvar timer=setInterval(function(){\r\n\t\t\tif (ksana.ready){\r\n\t\t\t\tclearInterval(timer);\r\n\t\t\t\tcb();\r\n\t\t\t}\r\n\t\t});\r\n}\r\n\r\n\r\nvar ksanagap={\r\n\tplatform:\"node-webkit\",\r\n\tstartDownload:downloader.startDownload,\r\n\tdownloadedByte:downloader.downloadedByte,\r\n\tdownloadingFile:downloader.downloadingFile,\r\n\tcancelDownload:downloader.cancelDownload,\r\n\tdoneDownload:downloader.doneDownload,\r\n\tswitchApp:switchApp,\r\n\trootPath:rootPath,\r\n\tdeleteApp: deleteApp,\r\n\tusername:username, //not support on PC\r\n\tuseremail:username,\r\n\truntime_version:runtime_version,\r\n\tboot:boot\r\n}\r\nmodule.exports=ksanagap;",
    "var started=false;\r\nvar timer=null;\r\nvar bundledate=null;\r\nvar get_date=require(\"./html5fs\").get_date;\r\nvar checkIfBundleUpdated=function() {\r\n\tget_date(\"bundle.js\",function(date){\r\n\t\tif (bundledate &&bundledate!=date){\r\n\t\t\tlocation.reload();\r\n\t\t}\r\n\t\tbundledate=date;\r\n\t});\r\n}\r\nvar livereload=function() {\r\n\tif (started) return;\r\n\r\n\ttimer1=setInterval(function(){\r\n\t\tcheckIfBundleUpdated();\r\n\t},2000);\r\n\tstarted=true;\r\n}\r\n\r\nmodule.exports=livereload;",
    "function mkdirP (p, mode, f, made) {\r\n     var path = nodeRequire('path');\r\n     var fs = nodeRequire('fs');\r\n\t\r\n    if (typeof mode === 'function' || mode === undefined) {\r\n        f = mode;\r\n        mode = 0x1FF & (~process.umask());\r\n    }\r\n    if (!made) made = null;\r\n\r\n    var cb = f || function () {};\r\n    if (typeof mode === 'string') mode = parseInt(mode, 8);\r\n    p = path.resolve(p);\r\n\r\n    fs.mkdir(p, mode, function (er) {\r\n        if (!er) {\r\n            made = made || p;\r\n            return cb(null, made);\r\n        }\r\n        switch (er.code) {\r\n            case 'ENOENT':\r\n                mkdirP(path.dirname(p), mode, function (er, made) {\r\n                    if (er) cb(er, made);\r\n                    else mkdirP(p, mode, cb, made);\r\n                });\r\n                break;\r\n\r\n            // In the case of any other error, just see if there's a dir\r\n            // there already.  If so, then hooray!  If not, then something\r\n            // is borked.\r\n            default:\r\n                fs.stat(p, function (er2, stat) {\r\n                    // if the stat fails, then that's super weird.\r\n                    // let the original error be the failure reason.\r\n                    if (er2 || !stat.isDirectory()) cb(er, made)\r\n                    else cb(null, made);\r\n                });\r\n                break;\r\n        }\r\n    });\r\n}\r\n\r\nmkdirP.sync = function sync (p, mode, made) {\r\n    var path = nodeRequire('path');\r\n    var fs = nodeRequire('fs');\r\n    if (mode === undefined) {\r\n        mode = 0x1FF & (~process.umask());\r\n    }\r\n    if (!made) made = null;\r\n\r\n    if (typeof mode === 'string') mode = parseInt(mode, 8);\r\n    p = path.resolve(p);\r\n\r\n    try {\r\n        fs.mkdirSync(p, mode);\r\n        made = made || p;\r\n    }\r\n    catch (err0) {\r\n        switch (err0.code) {\r\n            case 'ENOENT' :\r\n                made = sync(path.dirname(p), mode, made);\r\n                sync(p, mode, made);\r\n                break;\r\n\r\n            // In the case of any other error, just see if there's a dir\r\n            // there already.  If so, then hooray!  If not, then something\r\n            // is borked.\r\n            default:\r\n                var stat;\r\n                try {\r\n                    stat = fs.statSync(p);\r\n                }\r\n                catch (err1) {\r\n                    throw err0;\r\n                }\r\n                if (!stat.isDirectory()) throw err0;\r\n                break;\r\n        }\r\n    }\r\n\r\n    return made;\r\n};\r\n\r\nmodule.exports = mkdirP.mkdirp = mkdirP.mkdirP = mkdirP;\r\n",
    "module.exports = require('./src');\n",
    "'use strict';\n\n/**\n * Representation of a single EventEmitter function.\n *\n * @param {Function} fn Event handler to be called.\n * @param {Mixed} context Context for function execution.\n * @param {Boolean} once Only emit once\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal EventEmitter interface that is molded against the Node.js\n * EventEmitter interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() { /* Nothing to set */ }\n\n/**\n * Holds the assigned EventEmitters by name.\n *\n * @type {Object}\n * @private\n */\nEventEmitter.prototype._events = undefined;\n\n/**\n * Return a list of assigned event listeners.\n *\n * @param {String} event The events that should be listed.\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  if (!this._events || !this._events[event]) return [];\n  if (this._events[event].fn) return [this._events[event].fn];\n\n  for (var i = 0, l = this._events[event].length, ee = new Array(l); i < l; i++) {\n    ee[i] = this._events[event][i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Emit an event to all registered event listeners.\n *\n * @param {String} event The name of the event.\n * @returns {Boolean} Indication if we've emitted an event.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  if (!this._events || !this._events[event]) return false;\n\n  var listeners = this._events[event]\n    , len = arguments.length\n    , args\n    , i;\n\n  if ('function' === typeof listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Register a new EventListener for the given event.\n *\n * @param {String} event Name of the event.\n * @param {Functon} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this);\n\n  if (!this._events) this._events = {};\n  if (!this._events[event]) this._events[event] = listener;\n  else {\n    if (!this._events[event].fn) this._events[event].push(listener);\n    else this._events[event] = [\n      this._events[event], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Add an EventListener that's only called once.\n *\n * @param {String} event Name of the event.\n * @param {Function} fn Callback function.\n * @param {Mixed} context The context of the function.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true);\n\n  if (!this._events) this._events = {};\n  if (!this._events[event]) this._events[event] = listener;\n  else {\n    if (!this._events[event].fn) this._events[event].push(listener);\n    else this._events[event] = [\n      this._events[event], listener\n    ];\n  }\n\n  return this;\n};\n\n/**\n * Remove event listeners.\n *\n * @param {String} event The event we want to remove.\n * @param {Function} fn The listener that we need to find.\n * @param {Boolean} once Only remove once listeners.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, once) {\n  if (!this._events || !this._events[event]) return this;\n\n  var listeners = this._events[event]\n    , events = [];\n\n  if (fn) {\n    if (listeners.fn && (listeners.fn !== fn || (once && !listeners.once))) {\n      events.push(listeners);\n    }\n    if (!listeners.fn) for (var i = 0, length = listeners.length; i < length; i++) {\n      if (listeners[i].fn !== fn || (once && !listeners[i].once)) {\n        events.push(listeners[i]);\n      }\n    }\n  }\n\n  //\n  // Reset the array, or remove it completely if we have no more listeners.\n  //\n  if (events.length) {\n    this._events[event] = events.length === 1 ? events[0] : events;\n  } else {\n    delete this._events[event];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners or only the listeners for the specified event.\n *\n * @param {String} event The event want to remove all listeners for.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  if (!this._events) return this;\n\n  if (event) delete this._events[event];\n  else this._events = {};\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the module.\n//\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.EventEmitter2 = EventEmitter;\nEventEmitter.EventEmitter3 = EventEmitter;\n\n//\n// Expose the module.\n//\nmodule.exports = EventEmitter;\n",
    "/*! Native Promise Only\n    v0.7.6-a (c) Kyle Simpson\n    MIT License: http://getify.mit-license.org\n*/\n!function(t,n,e){n[t]=n[t]||e(),\"undefined\"!=typeof module&&module.exports?module.exports=n[t]:\"function\"==typeof define&&define.amd&&define(function(){return n[t]})}(\"Promise\",\"undefined\"!=typeof global?global:this,function(){\"use strict\";function t(t,n){l.add(t,n),h||(h=y(l.drain))}function n(t){var n,e=typeof t;return null==t||\"object\"!=e&&\"function\"!=e||(n=t.then),\"function\"==typeof n?n:!1}function e(){for(var t=0;t<this.chain.length;t++)o(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function o(t,e,o){var r,i;try{e===!1?o.reject(t.msg):(r=e===!0?t.msg:e.call(void 0,t.msg),r===o.promise?o.reject(TypeError(\"Promise-chain cycle\")):(i=n(r))?i.call(r,o.resolve,o.reject):o.resolve(r))}catch(c){o.reject(c)}}function r(o){var c,u,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(c=n(o))?(u=new f(a),c.call(o,function(){r.apply(u,arguments)},function(){i.apply(u,arguments)})):(a.msg=o,a.state=1,a.chain.length>0&&t(e,a))}catch(s){i.call(u||new f(a),s)}}}function i(n){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=n,o.state=2,o.chain.length>0&&t(e,o))}function c(t,n,e,o){for(var r=0;r<n.length;r++)!function(r){t.resolve(n[r]).then(function(t){e(r,t)},o)}(r)}function f(t){this.def=t,this.triggered=!1}function u(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function a(n){if(\"function\"!=typeof n)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var o=new u(this);this.then=function(n,r){var i={success:\"function\"==typeof n?n:!0,failure:\"function\"==typeof r?r:!1};return i.promise=new this.constructor(function(t,n){if(\"function\"!=typeof t||\"function\"!=typeof n)throw TypeError(\"Not a function\");i.resolve=t,i.reject=n}),o.chain.push(i),0!==o.state&&t(e,o),i.promise},this[\"catch\"]=function(t){return this.then(void 0,t)};try{n.call(void 0,function(t){r.call(o,t)},function(t){i.call(o,t)})}catch(c){i.call(o,c)}}var s,h,l,p=Object.prototype.toString,y=\"undefined\"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},\"x\",{}),s=function(t,n,e,o){return Object.defineProperty(t,n,{value:e,writable:!0,configurable:o!==!1})}}catch(d){s=function(t,n,e){return t[n]=e,t}}l=function(){function t(t,n){this.fn=t,this.self=n,this.next=void 0}var n,e,o;return{add:function(r,i){o=new t(r,i),e?e.next=o:n=o,e=o,o=void 0},drain:function(){var t=n;for(n=e=h=void 0;t;)t.fn.call(t.self),t=t.next}}}();var g=s({},\"constructor\",a,!1);return s(a,\"prototype\",g,!1),s(g,\"__NPO__\",0,!1),s(a,\"resolve\",function(t){var n=this;return t&&\"object\"==typeof t&&1===t.__NPO__?t:new n(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");n(t)})}),s(a,\"reject\",function(t){return new this(function(n,e){if(\"function\"!=typeof n||\"function\"!=typeof e)throw TypeError(\"Not a function\");e(t)})}),s(a,\"all\",function(t){var n=this;return\"[object Array]\"!=p.call(t)?n.reject(TypeError(\"Not an array\")):0===t.length?n.resolve([]):new n(function(e,o){if(\"function\"!=typeof e||\"function\"!=typeof o)throw TypeError(\"Not a function\");var r=t.length,i=Array(r),f=0;c(n,t,function(t,n){i[t]=n,++f===r&&e(i)},o)})}),s(a,\"race\",function(t){var n=this;return\"[object Array]\"!=p.call(t)?n.reject(TypeError(\"Not an array\")):new n(function(e,o){if(\"function\"!=typeof e||\"function\"!=typeof o)throw TypeError(\"Not a function\");c(n,t,function(t,n){e(n)},o)})}),a});\n",
    "/**\n * A module of methods that you want to include in all actions.\n * This module is consumed by `createAction`.\n */\nmodule.exports = {\n};\n",
    "exports.createdStores = [];\n\nexports.createdActions = [];\n\nexports.reset = function() {\n    while(exports.createdStores.length) {\n        exports.createdStores.pop();\n    }\n    while(exports.createdActions.length) {\n        exports.createdActions.pop();\n    }\n};\n",
    "var _ = require('./utils'),\n    maker = require('./joins').instanceJoinCreator;\n\n/**\n * Extract child listenables from a parent from their\n * children property and return them in a keyed Object\n *\n * @param {Object} listenable The parent listenable\n */\nvar mapChildListenables = function(listenable) {\n    var i = 0, children = {}, childName;\n    for (;i < (listenable.children||[]).length; ++i) {\n        childName = listenable.children[i];\n        if(listenable[childName]){\n            children[childName] = listenable[childName];\n        }\n    }\n    return children;\n};\n\n/**\n * Make a flat dictionary of all listenables including their\n * possible children (recursively), concatenating names in camelCase.\n *\n * @param {Object} listenables The top-level listenables\n */\nvar flattenListenables = function(listenables) {\n    var flattened = {};\n    for(var key in listenables){\n        var listenable = listenables[key];\n        var childMap = mapChildListenables(listenable);\n\n        // recursively flatten children\n        var children = flattenListenables(childMap);\n\n        // add the primary listenable and chilren\n        flattened[key] = listenable;\n        for(var childKey in children){\n            var childListenable = children[childKey];\n            flattened[key + _.capitalize(childKey)] = childListenable;\n        }\n    }\n\n    return flattened;\n};\n\n/**\n * A module of methods related to listening.\n */\nmodule.exports = {\n\n    /**\n     * An internal utility function used by `validateListening`\n     *\n     * @param {Action|Store} listenable The listenable we want to search for\n     * @returns {Boolean} The result of a recursive search among `this.subscriptions`\n     */\n    hasListener: function(listenable) {\n        var i = 0, j, listener, listenables;\n        for (;i < (this.subscriptions||[]).length; ++i) {\n            listenables = [].concat(this.subscriptions[i].listenable);\n            for (j = 0; j < listenables.length; j++){\n                listener = listenables[j];\n                if (listener === listenable || listener.hasListener && listener.hasListener(listenable)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    },\n\n    /**\n     * A convenience method that listens to all listenables in the given object.\n     *\n     * @param {Object} listenables An object of listenables. Keys will be used as callback method names.\n     */\n    listenToMany: function(listenables){\n        var allListenables = flattenListenables(listenables);\n        for(var key in allListenables){\n            var cbname = _.callbackName(key),\n                localname = this[cbname] ? cbname : this[key] ? key : undefined;\n            if (localname){\n                this.listenTo(allListenables[key],localname,this[cbname+\"Default\"]||this[localname+\"Default\"]||localname);\n            }\n        }\n    },\n\n    /**\n     * Checks if the current context can listen to the supplied listenable\n     *\n     * @param {Action|Store} listenable An Action or Store that should be\n     *  listened to.\n     * @returns {String|Undefined} An error message, or undefined if there was no problem.\n     */\n    validateListening: function(listenable){\n        if (listenable === this) {\n            return \"Listener is not able to listen to itself\";\n        }\n        if (!_.isFunction(listenable.listen)) {\n            return listenable + \" is missing a listen method\";\n        }\n        if (listenable.hasListener && listenable.hasListener(this)) {\n            return \"Listener cannot listen to this listenable because of circular loop\";\n        }\n    },\n\n    /**\n     * Sets up a subscription to the given listenable for the context object\n     *\n     * @param {Action|Store} listenable An Action or Store that should be\n     *  listened to.\n     * @param {Function|String} callback The callback to register as event handler\n     * @param {Function|String} defaultCallback The callback to register as default handler\n     * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is the object being listened to\n     */\n    listenTo: function(listenable, callback, defaultCallback) {\n        var desub, unsubscriber, subscriptionobj, subs = this.subscriptions = this.subscriptions || [];\n        _.throwIf(this.validateListening(listenable));\n        this.fetchInitialState(listenable, defaultCallback);\n        desub = listenable.listen(this[callback]||callback, this);\n        unsubscriber = function() {\n            var index = subs.indexOf(subscriptionobj);\n            _.throwIf(index === -1,'Tried to remove listen already gone from subscriptions list!');\n            subs.splice(index, 1);\n            desub();\n        };\n        subscriptionobj = {\n            stop: unsubscriber,\n            listenable: listenable\n        };\n        subs.push(subscriptionobj);\n        return subscriptionobj;\n    },\n\n    /**\n     * Stops listening to a single listenable\n     *\n     * @param {Action|Store} listenable The action or store we no longer want to listen to\n     * @returns {Boolean} True if a subscription was found and removed, otherwise false.\n     */\n    stopListeningTo: function(listenable){\n        var sub, i = 0, subs = this.subscriptions || [];\n        for(;i < subs.length; i++){\n            sub = subs[i];\n            if (sub.listenable === listenable){\n                sub.stop();\n                _.throwIf(subs.indexOf(sub)!==-1,'Failed to remove listen from subscriptions list!');\n                return true;\n            }\n        }\n        return false;\n    },\n\n    /**\n     * Stops all subscriptions and empties subscriptions array\n     */\n    stopListeningToAll: function(){\n        var remaining, subs = this.subscriptions || [];\n        while((remaining=subs.length)){\n            subs[0].stop();\n            _.throwIf(subs.length!==remaining-1,'Failed to remove listen from subscriptions list!');\n        }\n    },\n\n    /**\n     * Used in `listenTo`. Fetches initial data from a publisher if it has a `getInitialState` method.\n     * @param {Action|Store} listenable The publisher we want to get initial state from\n     * @param {Function|String} defaultCallback The method to receive the data\n     */\n    fetchInitialState: function (listenable, defaultCallback) {\n        defaultCallback = (defaultCallback && this[defaultCallback]) || defaultCallback;\n        var me = this;\n        if (_.isFunction(defaultCallback) && _.isFunction(listenable.getInitialState)) {\n            var data = listenable.getInitialState();\n            if (data && _.isFunction(data.then)) {\n                data.then(function() {\n                    defaultCallback.apply(me, arguments);\n                });\n            } else {\n                defaultCallback.call(this, data);\n            }\n        }\n    },\n\n    /**\n     * The callback will be called once all listenables have triggered at least once.\n     * It will be invoked with the last emission from each listenable.\n     * @param {...Publishers} publishers Publishers that should be tracked.\n     * @param {Function|String} callback The method to call when all publishers have emitted\n     * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables\n     */\n    joinTrailing: maker(\"last\"),\n\n    /**\n     * The callback will be called once all listenables have triggered at least once.\n     * It will be invoked with the first emission from each listenable.\n     * @param {...Publishers} publishers Publishers that should be tracked.\n     * @param {Function|String} callback The method to call when all publishers have emitted\n     * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables\n     */\n    joinLeading: maker(\"first\"),\n\n    /**\n     * The callback will be called once all listenables have triggered at least once.\n     * It will be invoked with all emission from each listenable.\n     * @param {...Publishers} publishers Publishers that should be tracked.\n     * @param {Function|String} callback The method to call when all publishers have emitted\n     * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables\n     */\n    joinConcat: maker(\"all\"),\n\n    /**\n     * The callback will be called once all listenables have triggered.\n     * If a callback triggers twice before that happens, an error is thrown.\n     * @param {...Publishers} publishers Publishers that should be tracked.\n     * @param {Function|String} callback The method to call when all publishers have emitted\n     * @returns {Object} A subscription obj where `stop` is an unsub function and `listenable` is an array of listenables\n     */\n    joinStrict: maker(\"strict\")\n};\n",
    "var _ = require('./utils'),\n    ListenerMethods = require('./ListenerMethods');\n\n/**\n * A module meant to be consumed as a mixin by a React component. Supplies the methods from\n * `ListenerMethods` mixin and takes care of teardown of subscriptions.\n * Note that if you're using the `connect` mixin you don't need this mixin, as connect will\n * import everything this mixin contains!\n */\nmodule.exports = _.extend({\n\n    /**\n     * Cleans up all listener previously registered.\n     */\n    componentWillUnmount: ListenerMethods.stopListeningToAll\n\n}, ListenerMethods);\n",
    "var _ = require('./utils');\n\n/**\n * A module of methods for object that you want to be able to listen to.\n * This module is consumed by `createStore` and `createAction`\n */\nmodule.exports = {\n\n    /**\n     * Hook used by the publisher that is invoked before emitting\n     * and before `shouldEmit`. The arguments are the ones that the action\n     * is invoked with. If this function returns something other than\n     * undefined, that will be passed on as arguments for shouldEmit and\n     * emission.\n     */\n    preEmit: function() {},\n\n    /**\n     * Hook used by the publisher after `preEmit` to determine if the\n     * event should be emitted with given arguments. This may be overridden\n     * in your application, default implementation always returns true.\n     *\n     * @returns {Boolean} true if event should be emitted\n     */\n    shouldEmit: function() { return true; },\n\n    /**\n     * Subscribes the given callback for action triggered\n     *\n     * @param {Function} callback The callback to register as event handler\n     * @param {Mixed} [optional] bindContext The context to bind the callback with\n     * @returns {Function} Callback that unsubscribes the registered event handler\n     */\n    listen: function(callback, bindContext) {\n        bindContext = bindContext || this;\n        var eventHandler = function(args) {\n            if (aborted){\n                return;\n            }\n            callback.apply(bindContext, args);\n        }, me = this, aborted = false;\n        this.emitter.addListener(this.eventLabel, eventHandler);\n        return function() {\n            aborted = true;\n            me.emitter.removeListener(me.eventLabel, eventHandler);\n        };\n    },\n\n    /**\n     * Attach handlers to promise that trigger the completed and failed\n     * child publishers, if available.\n     *\n     * @param {Object} The promise to attach to\n     */\n    promise: function(promise) {\n        var me = this;\n\n        var canHandlePromise =\n            this.children.indexOf('completed') >= 0 &&\n            this.children.indexOf('failed') >= 0;\n\n        if (!canHandlePromise){\n            throw new Error('Publisher must have \"completed\" and \"failed\" child publishers');\n        }\n\n        promise.then(function(response) {\n            return me.completed(response);\n        }, function(error) {\n            return me.failed(error);\n        });\n    },\n\n    /**\n     * Subscribes the given callback for action triggered, which should\n     * return a promise that in turn is passed to `this.promise`\n     *\n     * @param {Function} callback The callback to register as event handler\n     */\n    listenAndPromise: function(callback, bindContext) {\n        var me = this;\n        bindContext = bindContext || this;\n        this.willCallPromise = (this.willCallPromise || 0) + 1;\n\n        var removeListen = this.listen(function() {\n\n            if (!callback) {\n                throw new Error('Expected a function returning a promise but got ' + callback);\n            }\n\n            var args = arguments,\n                promise = callback.apply(bindContext, args);\n            return me.promise.call(me, promise);\n        }, bindContext);\n\n        return function () {\n          me.willCallPromise--;\n          removeListen.call(me);\n        };\n\n    },\n\n    /**\n     * Publishes an event using `this.emitter` (if `shouldEmit` agrees)\n     */\n    trigger: function() {\n        var args = arguments,\n            pre = this.preEmit.apply(this, args);\n        args = pre === undefined ? args : _.isArguments(pre) ? pre : [].concat(pre);\n        if (this.shouldEmit.apply(this, args)) {\n            this.emitter.emit(this.eventLabel, args);\n        }\n    },\n\n    /**\n     * Tries to publish the event on the next tick\n     */\n    triggerAsync: function(){\n        var args = arguments,me = this;\n        _.nextTick(function() {\n            me.trigger.apply(me, args);\n        });\n    },\n\n    /**\n     * Returns a Promise for the triggered action\n     *\n     * @return {Promise}\n     *   Resolved by completed child action.\n     *   Rejected by failed child action.\n     *   If listenAndPromise'd, then promise associated to this trigger.\n     *   Otherwise, the promise is for next child action completion.\n     */\n    triggerPromise: function(){\n        var me = this;\n        var args = arguments;\n\n        var canHandlePromise =\n            this.children.indexOf('completed') >= 0 &&\n            this.children.indexOf('failed') >= 0;\n\n        var promise = _.createPromise(function(resolve, reject) {\n            // If `listenAndPromise` is listening\n            // patch `promise` w/ context-loaded resolve/reject\n            if (me.willCallPromise) {\n                _.nextTick(function() {\n                    var old_promise_method = me.promise;\n                    me.promise = function (promise) {\n                        promise.then(resolve, reject);\n                        // Back to your regularly schedule programming.\n                        me.promise = old_promise_method;\n                        return me.promise.apply(me, arguments);\n                    };\n                    me.trigger.apply(me, args);\n                });\n                return;\n            }\n\n            if (canHandlePromise) {\n                var removeSuccess = me.completed.listen(function(args) {\n                    removeSuccess();\n                    removeFailed();\n                    resolve(args);\n                });\n\n                var removeFailed = me.failed.listen(function(args) {\n                    removeSuccess();\n                    removeFailed();\n                    reject(args);\n                });\n            }\n\n            me.triggerAsync.apply(me, args);\n\n            if (!canHandlePromise) {\n                resolve();\n            }\n        });\n\n        return promise;\n    }\n};\n",
    "/**\n * A module of methods that you want to include in all stores.\n * This module is consumed by `createStore`.\n */\nmodule.exports = {\n};\n",
    "module.exports = function(store, definition) {\n  for (var name in definition) {\n    if (Object.getOwnPropertyDescriptor && Object.defineProperty) {\n        var propertyDescriptor = Object.getOwnPropertyDescriptor(definition, name);\n\n        if (!propertyDescriptor.value || typeof propertyDescriptor.value !== 'function' || !definition.hasOwnProperty(name)) {\n            continue;\n        }\n\n        store[name] = definition[name].bind(store);\n    } else {\n        var property = definition[name];\n\n        if (typeof property !== 'function' || !definition.hasOwnProperty(name)) {\n            continue;\n        }\n\n        store[name] = property.bind(store);\n    }\n  }\n\n  return store;\n};\n",
    "var Reflux = require('./index'),\n    _ = require('./utils');\n\nmodule.exports = function(listenable,key){\n    return {\n        getInitialState: function(){\n            if (!_.isFunction(listenable.getInitialState)) {\n                return {};\n            } else if (key === undefined) {\n                return listenable.getInitialState();\n            } else {\n                return _.object([key],[listenable.getInitialState()]);\n            }\n        },\n        componentDidMount: function(){\n            _.extend(this,Reflux.ListenerMethods);\n            var me = this, cb = (key === undefined ? this.setState : function(v){me.setState(_.object([key],[v]));});\n            this.listenTo(listenable,cb);\n        },\n        componentWillUnmount: Reflux.ListenerMixin.componentWillUnmount\n    };\n};\n",
    "var Reflux = require('./index'),\n  _ = require('./utils');\n\nmodule.exports = function(listenable, key, filterFunc) {\n    filterFunc = _.isFunction(key) ? key : filterFunc;\n    return {\n        getInitialState: function() {\n            if (!_.isFunction(listenable.getInitialState)) {\n                return {};\n            } else if (_.isFunction(key)) {\n                return filterFunc.call(this, listenable.getInitialState());\n            } else {\n                // Filter initial payload from store.\n                var result = filterFunc.call(this, listenable.getInitialState());\n                if (result) {\n                  return _.object([key], [result]);\n                } else {\n                  return {};\n                }\n            }\n        },\n        componentDidMount: function() {\n            _.extend(this, Reflux.ListenerMethods);\n            var me = this;\n            var cb = function(value) {\n                if (_.isFunction(key)) {\n                    me.setState(filterFunc.call(me, value));\n                } else {\n                    var result = filterFunc.call(me, value);\n                    me.setState(_.object([key], [result]));\n                }\n            };\n\n            this.listenTo(listenable, cb);\n        },\n        componentWillUnmount: Reflux.ListenerMixin.componentWillUnmount\n    };\n};\n\n",
    "var _ = require('./utils'),\n    Reflux = require('./index'),\n    Keep = require('./Keep'),\n    allowed = {preEmit:1,shouldEmit:1};\n\n/**\n * Creates an action functor object. It is mixed in with functions\n * from the `PublisherMethods` mixin. `preEmit` and `shouldEmit` may\n * be overridden in the definition object.\n *\n * @param {Object} definition The action object definition\n */\nvar createAction = function(definition) {\n\n    definition = definition || {};\n    if (!_.isObject(definition)){\n        definition = {actionName: definition};\n    }\n\n    for(var a in Reflux.ActionMethods){\n        if (!allowed[a] && Reflux.PublisherMethods[a]) {\n            throw new Error(\"Cannot override API method \" + a +\n                \" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.\"\n            );\n        }\n    }\n\n    for(var d in definition){\n        if (!allowed[d] && Reflux.PublisherMethods[d]) {\n            throw new Error(\"Cannot override API method \" + d +\n                \" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.\"\n            );\n        }\n    }\n\n    definition.children = definition.children || [];\n    if (definition.asyncResult){\n        definition.children = definition.children.concat([\"completed\",\"failed\"]);\n    }\n\n    var i = 0, childActions = {};\n    for (; i < definition.children.length; i++) {\n        var name = definition.children[i];\n        childActions[name] = createAction(name);\n    }\n\n    var context = _.extend({\n        eventLabel: \"action\",\n        emitter: new _.EventEmitter(),\n        _isAction: true\n    }, Reflux.PublisherMethods, Reflux.ActionMethods, definition);\n\n    var functor = function() {\n        return functor[functor.sync?\"trigger\":\"triggerPromise\"].apply(functor, arguments);\n    };\n\n    _.extend(functor,childActions,context);\n\n    Keep.createdActions.push(functor);\n\n    return functor;\n\n};\n\nmodule.exports = createAction;\n",
    "var _ = require('./utils'),\n    Reflux = require('./index'),\n    Keep = require('./Keep'),\n    mixer = require('./mixer'),\n    allowed = {preEmit:1,shouldEmit:1},\n    bindMethods = require('./bindMethods');\n\n/**\n * Creates an event emitting Data Store. It is mixed in with functions\n * from the `ListenerMethods` and `PublisherMethods` mixins. `preEmit`\n * and `shouldEmit` may be overridden in the definition object.\n *\n * @param {Object} definition The data store object definition\n * @returns {Store} A data store instance\n */\nmodule.exports = function(definition) {\n\n    definition = definition || {};\n\n    for(var a in Reflux.StoreMethods){\n        if (!allowed[a] && (Reflux.PublisherMethods[a] || Reflux.ListenerMethods[a])){\n            throw new Error(\"Cannot override API method \" + a +\n                \" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.\"\n            );\n        }\n    }\n\n    for(var d in definition){\n        if (!allowed[d] && (Reflux.PublisherMethods[d] || Reflux.ListenerMethods[d])){\n            throw new Error(\"Cannot override API method \" + d +\n                \" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.\"\n            );\n        }\n    }\n\n    definition = mixer(definition);\n\n    function Store() {\n        var i=0, arr;\n        this.subscriptions = [];\n        this.emitter = new _.EventEmitter();\n        this.eventLabel = \"change\";\n        bindMethods(this, definition);\n        if (this.init && _.isFunction(this.init)) {\n            this.init();\n        }\n        if (this.listenables){\n            arr = [].concat(this.listenables);\n            for(;i < arr.length;i++){\n                this.listenToMany(arr[i]);\n            }\n        }\n    }\n\n    _.extend(Store.prototype, Reflux.ListenerMethods, Reflux.PublisherMethods, Reflux.StoreMethods, definition);\n\n    var store = new Store();\n    Keep.createdStores.push(store);\n\n    return store;\n};\n",
    "exports.ActionMethods = require('./ActionMethods');\n\nexports.ListenerMethods = require('./ListenerMethods');\n\nexports.PublisherMethods = require('./PublisherMethods');\n\nexports.StoreMethods = require('./StoreMethods');\n\nexports.createAction = require('./createAction');\n\nexports.createStore = require('./createStore');\n\nexports.connect = require('./connect');\n\nexports.connectFilter = require('./connectFilter');\n\nexports.ListenerMixin = require('./ListenerMixin');\n\nexports.listenTo = require('./listenTo');\n\nexports.listenToMany = require('./listenToMany');\n\n\nvar maker = require('./joins').staticJoinCreator;\n\nexports.joinTrailing = exports.all = maker(\"last\"); // Reflux.all alias for backward compatibility\n\nexports.joinLeading = maker(\"first\");\n\nexports.joinStrict = maker(\"strict\");\n\nexports.joinConcat = maker(\"all\");\n\nvar _ = require('./utils');\n\nexports.EventEmitter = _.EventEmitter;\n\nexports.Promise = _.Promise;\n\n/**\n * Convenience function for creating a set of actions\n *\n * @param definitions the definitions for the actions to be created\n * @returns an object with actions of corresponding action names\n */\nexports.createActions = function(definitions) {\n    var actions = {};\n    for (var k in definitions){\n        if (definitions.hasOwnProperty(k)) {\n            var val = definitions[k],\n                actionName = _.isObject(val) ? k : val;\n\n            actions[actionName] = exports.createAction(val);\n        }\n    }\n    return actions;\n};\n\n/**\n * Sets the eventmitter that Reflux uses\n */\nexports.setEventEmitter = function(ctx) {\n    var _ = require('./utils');\n    exports.EventEmitter = _.EventEmitter = ctx;\n};\n\n\n/**\n * Sets the Promise library that Reflux uses\n */\nexports.setPromise = function(ctx) {\n    var _ = require('./utils');\n    exports.Promise = _.Promise = ctx;\n};\n\n\n/**\n * Sets the Promise factory that creates new promises\n * @param {Function} factory has the signature `function(resolver) { return [new Promise]; }`\n */\nexports.setPromiseFactory = function(factory) {\n    var _ = require('./utils');\n    _.createPromise = factory;\n};\n\n\n/**\n * Sets the method used for deferring actions and stores\n */\nexports.nextTick = function(nextTick) {\n    var _ = require('./utils');\n    _.nextTick = nextTick;\n};\n\n/**\n * Provides the set of created actions and stores for introspection\n */\nexports.__keep = require('./Keep');\n\n/**\n * Warn if Function.prototype.bind not available\n */\nif (!Function.prototype.bind) {\n  console.error(\n    'Function.prototype.bind not available. ' +\n    'ES5 shim required. ' +\n    'https://github.com/spoike/refluxjs#es5'\n  );\n}\n",
    "/**\n * Internal module used to create static and instance join methods\n */\n\nvar slice = Array.prototype.slice,\n    _ = require(\"./utils\"),\n    createStore = require(\"./createStore\"),\n    strategyMethodNames = {\n        strict: \"joinStrict\",\n        first: \"joinLeading\",\n        last: \"joinTrailing\",\n        all: \"joinConcat\"\n    };\n\n/**\n * Used in `index.js` to create the static join methods\n * @param {String} strategy Which strategy to use when tracking listenable trigger arguments\n * @returns {Function} A static function which returns a store with a join listen on the given listenables using the given strategy\n */\nexports.staticJoinCreator = function(strategy){\n    return function(/* listenables... */) {\n        var listenables = slice.call(arguments);\n        return createStore({\n            init: function(){\n                this[strategyMethodNames[strategy]].apply(this,listenables.concat(\"triggerAsync\"));\n            }\n        });\n    };\n};\n\n/**\n * Used in `ListenerMethods.js` to create the instance join methods\n * @param {String} strategy Which strategy to use when tracking listenable trigger arguments\n * @returns {Function} An instance method which sets up a join listen on the given listenables using the given strategy\n */\nexports.instanceJoinCreator = function(strategy){\n    return function(/* listenables..., callback*/){\n        _.throwIf(arguments.length < 3,'Cannot create a join with less than 2 listenables!');\n        var listenables = slice.call(arguments),\n            callback = listenables.pop(),\n            numberOfListenables = listenables.length,\n            join = {\n                numberOfListenables: numberOfListenables,\n                callback: this[callback]||callback,\n                listener: this,\n                strategy: strategy\n            }, i, cancels = [], subobj;\n        for (i = 0; i < numberOfListenables; i++) {\n            _.throwIf(this.validateListening(listenables[i]));\n        }\n        for (i = 0; i < numberOfListenables; i++) {\n            cancels.push(listenables[i].listen(newListener(i,join),this));\n        }\n        reset(join);\n        subobj = {listenable: listenables};\n        subobj.stop = makeStopper(subobj,cancels,this);\n        this.subscriptions = (this.subscriptions || []).concat(subobj);\n        return subobj;\n    };\n};\n\n// ---- internal join functions ----\n\nfunction makeStopper(subobj,cancels,context){\n    return function() {\n        var i, subs = context.subscriptions,\n            index = (subs ? subs.indexOf(subobj) : -1);\n        _.throwIf(index === -1,'Tried to remove join already gone from subscriptions list!');\n        for(i=0;i < cancels.length; i++){\n            cancels[i]();\n        }\n        subs.splice(index, 1);\n    };\n}\n\nfunction reset(join) {\n    join.listenablesEmitted = new Array(join.numberOfListenables);\n    join.args = new Array(join.numberOfListenables);\n}\n\nfunction newListener(i,join) {\n    return function() {\n        var callargs = slice.call(arguments);\n        if (join.listenablesEmitted[i]){\n            switch(join.strategy){\n                case \"strict\": throw new Error(\"Strict join failed because listener triggered twice.\");\n                case \"last\": join.args[i] = callargs; break;\n                case \"all\": join.args[i].push(callargs);\n            }\n        } else {\n            join.listenablesEmitted[i] = true;\n            join.args[i] = (join.strategy===\"all\"?[callargs]:callargs);\n        }\n        emitIfAllListenablesEmitted(join);\n    };\n}\n\nfunction emitIfAllListenablesEmitted(join) {\n    for (var i = 0; i < join.numberOfListenables; i++) {\n        if (!join.listenablesEmitted[i]) {\n            return;\n        }\n    }\n    join.callback.apply(join.listener,join.args);\n    reset(join);\n}\n",
    "var Reflux = require('./index');\n\n\n/**\n * A mixin factory for a React component. Meant as a more convenient way of using the `ListenerMixin`,\n * without having to manually set listeners in the `componentDidMount` method.\n *\n * @param {Action|Store} listenable An Action or Store that should be\n *  listened to.\n * @param {Function|String} callback The callback to register as event handler\n * @param {Function|String} defaultCallback The callback to register as default handler\n * @returns {Object} An object to be used as a mixin, which sets up the listener for the given listenable.\n */\nmodule.exports = function(listenable,callback,initial){\n    return {\n        /**\n         * Set up the mixin before the initial rendering occurs. Import methods from `ListenerMethods`\n         * and then make the call to `listenTo` with the arguments provided to the factory function\n         */\n        componentDidMount: function() {\n            for(var m in Reflux.ListenerMethods){\n                if (this[m] !== Reflux.ListenerMethods[m]){\n                    if (this[m]){\n                        throw \"Can't have other property '\"+m+\"' when using Reflux.listenTo!\";\n                    }\n                    this[m] = Reflux.ListenerMethods[m];\n                }\n            }\n            this.listenTo(listenable,callback,initial);\n        },\n        /**\n         * Cleans up all listener previously registered.\n         */\n        componentWillUnmount: Reflux.ListenerMethods.stopListeningToAll\n    };\n};\n",
    "var Reflux = require('./index');\n\n/**\n * A mixin factory for a React component. Meant as a more convenient way of using the `listenerMixin`,\n * without having to manually set listeners in the `componentDidMount` method. This version is used\n * to automatically set up a `listenToMany` call.\n *\n * @param {Object} listenables An object of listenables\n * @returns {Object} An object to be used as a mixin, which sets up the listeners for the given listenables.\n */\nmodule.exports = function(listenables){\n    return {\n        /**\n         * Set up the mixin before the initial rendering occurs. Import methods from `ListenerMethods`\n         * and then make the call to `listenTo` with the arguments provided to the factory function\n         */\n        componentDidMount: function() {\n            for(var m in Reflux.ListenerMethods){\n                if (this[m] !== Reflux.ListenerMethods[m]){\n                    if (this[m]){\n                        throw \"Can't have other property '\"+m+\"' when using Reflux.listenToMany!\";\n                    }\n                    this[m] = Reflux.ListenerMethods[m];\n                }\n            }\n            this.listenToMany(listenables);\n        },\n        /**\n         * Cleans up all listener previously registered.\n         */\n        componentWillUnmount: Reflux.ListenerMethods.stopListeningToAll\n    };\n};\n",
    "var _ = require('./utils');\n\nmodule.exports = function mix(def) {\n    var composed = {\n        init: [],\n        preEmit: [],\n        shouldEmit: []\n    };\n\n    var updated = (function mixDef(mixin) {\n        var mixed = {};\n        if (mixin.mixins) {\n            mixin.mixins.forEach(function (subMixin) {\n                _.extend(mixed, mixDef(subMixin));\n            });\n        }\n        _.extend(mixed, mixin);\n        Object.keys(composed).forEach(function (composable) {\n            if (mixin.hasOwnProperty(composable)) {\n                composed[composable].push(mixin[composable]);\n            }\n        });\n        return mixed;\n    }(def));\n\n    if (composed.init.length > 1) {\n        updated.init = function () {\n            var args = arguments;\n            composed.init.forEach(function (init) {\n                init.apply(this, args);\n            }, this);\n        };\n    }\n    if (composed.preEmit.length > 1) {\n        updated.preEmit = function () {\n            return composed.preEmit.reduce(function (args, preEmit) {\n                var newValue = preEmit.apply(this, args);\n                return newValue === undefined ? args : [newValue];\n            }.bind(this), arguments);\n        };\n    }\n    if (composed.shouldEmit.length > 1) {\n        updated.shouldEmit = function () {\n            var args = arguments;\n            return !composed.shouldEmit.some(function (shouldEmit) {\n                return !shouldEmit.apply(this, args);\n            }, this);\n        };\n    }\n    Object.keys(composed).forEach(function (composable) {\n        if (composed[composable].length === 1) {\n            updated[composable] = composed[composable][0];\n        }\n    });\n\n    return updated;\n};\n",
    "/*\n * isObject, extend, isFunction, isArguments are taken from undescore/lodash in\n * order to remove the dependency\n */\nvar isObject = exports.isObject = function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n};\n\nexports.extend = function(obj) {\n    if (!isObject(obj)) {\n        return obj;\n    }\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n        source = arguments[i];\n        for (prop in source) {\n            if (Object.getOwnPropertyDescriptor && Object.defineProperty) {\n                var propertyDescriptor = Object.getOwnPropertyDescriptor(source, prop);\n                Object.defineProperty(obj, prop, propertyDescriptor);\n            } else {\n                obj[prop] = source[prop];\n            }\n        }\n    }\n    return obj;\n};\n\nexports.isFunction = function(value) {\n    return typeof value === 'function';\n};\n\nexports.EventEmitter = require('eventemitter3');\n\nexports.nextTick = function(callback) {\n    setTimeout(callback, 0);\n};\n\nexports.capitalize = function(string){\n    return string.charAt(0).toUpperCase()+string.slice(1);\n};\n\nexports.callbackName = function(string){\n    return \"on\"+exports.capitalize(string);\n};\n\nexports.object = function(keys,vals){\n    var o={}, i=0;\n    for(;i<keys.length;i++){\n        o[keys[i]] = vals[i];\n    }\n    return o;\n};\n\nexports.Promise = require(\"native-promise-only\");\n\nexports.createPromise = function(resolver) {\n    return new exports.Promise(resolver);\n};\n\nexports.isArguments = function(value) {\n    return typeof value === 'object' && ('callee' in value) && typeof value.length === 'number';\n};\n\nexports.throwIf = function(val,msg){\n    if (val){\n        throw Error(msg||val);\n    }\n};\n"
  ]
}